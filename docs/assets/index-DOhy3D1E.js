import{initializeApp as aS}from"https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";import{getAnalytics as oS}from"https://www.gstatic.com/firebasejs/12.4.0/firebase-analytics.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();const lS={apiKey:"AIzaSyAzbZJDsLX1wo6nW7t55Pxgu4WL3R9tvhw",authDomain:"lumpo1.firebaseapp.com",databaseURL:"https://lumpo1-default-rtdb.firebaseio.com",projectId:"lumpo1",storageBucket:"lumpo1.appspot.com",messagingSenderId:"964713129480",appId:"1:964713129480:web:2246804b67928a62ac93bd",measurementId:"G-HGYNGJ9V15"},uS=aS(lS);oS(uS);function s0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pd={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function cS(){if(S_)return ll;S_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:h}}return ll.Fragment=t,ll.jsx=i,ll.jsxs=i,ll}var A_;function hS(){return A_||(A_=1,pd.exports=cS()),pd.exports}var $=hS(),gd={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function fS(){if(b_)return Tt;b_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function ht(O,Q,et){this.props=O,this.context=Q,this.refs=J,this.updater=et||X}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ft(){}ft.prototype=ht.prototype;function pt(O,Q,et){this.props=O,this.context=Q,this.refs=J,this.updater=et||X}var qt=pt.prototype=new ft;qt.constructor=pt,W(qt,ht.prototype),qt.isPureReactComponent=!0;var ie=Array.isArray;function Ct(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(O,Q,et){var it=et.ref;return{$$typeof:r,type:O,key:Q,ref:it!==void 0?it:null,props:et}}function M(O,Q){return w(O.type,Q,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Q[et]})}var D=/\/+/g;function zt(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function me(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ct,Ct):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,Q,et,it,gt){var vt=typeof O;(vt==="undefined"||vt==="boolean")&&(O=null);var Ot=!1;if(O===null)Ot=!0;else switch(vt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(O.$$typeof){case r:case t:Ot=!0;break;case S:return Ot=O._init,q(Ot(O._payload),Q,et,it,gt)}}if(Ot)return gt=gt(O),Ot=it===""?"."+zt(O,0):it,ie(gt)?(et="",Ot!=null&&(et=Ot.replace(D,"$&/")+"/"),q(gt,Q,et,"",function(Oi){return Oi})):gt!=null&&(I(gt)&&(gt=M(gt,et+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(D,"$&/")+"/")+Ot)),Q.push(gt)),1;Ot=0;var ye=it===""?".":it+":";if(ie(O))for(var se=0;se<O.length;se++)it=O[se],vt=ye+zt(it,se),Ot+=q(it,Q,et,vt,gt);else if(se=H(O),typeof se=="function")for(O=se.call(O),se=0;!(it=O.next()).done;)it=it.value,vt=ye+zt(it,se++),Ot+=q(it,Q,et,vt,gt);else if(vt==="object"){if(typeof O.then=="function")return q(me(O),Q,et,it,gt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function nt(O,Q,et){if(O==null)return O;var it=[],gt=0;return q(O,it,"","",function(vt){return Q.call(et,vt,gt++)}),it}function ot(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Rt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qt={map:nt,forEach:function(O,Q,et){nt(O,function(){Q.apply(this,arguments)},et)},count:function(O){var Q=0;return nt(O,function(){Q++}),Q},toArray:function(O){return nt(O,function(Q){return Q})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=b,Tt.Children=Qt,Tt.Component=ht,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=pt,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,Q,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=W({},O.props),gt=O.key;if(Q!=null)for(vt in Q.key!==void 0&&(gt=""+Q.key),Q)!A.call(Q,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Q.ref===void 0||(it[vt]=Q[vt]);var vt=arguments.length-2;if(vt===1)it.children=et;else if(1<vt){for(var Ot=Array(vt),ye=0;ye<vt;ye++)Ot[ye]=arguments[ye+2];it.children=Ot}return w(O.type,gt,it)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},Tt.createElement=function(O,Q,et){var it,gt={},vt=null;if(Q!=null)for(it in Q.key!==void 0&&(vt=""+Q.key),Q)A.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=Q[it]);var Ot=arguments.length-2;if(Ot===1)gt.children=et;else if(1<Ot){for(var ye=Array(Ot),se=0;se<Ot;se++)ye[se]=arguments[se+2];gt.children=ye}if(O&&O.defaultProps)for(it in Ot=O.defaultProps,Ot)gt[it]===void 0&&(gt[it]=Ot[it]);return w(O,vt,gt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:g,render:O}},Tt.isValidElement=I,Tt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ot}},Tt.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},Tt.startTransition=function(O){var Q=C.T,et={};C.T=et;try{var it=O(),gt=C.S;gt!==null&&gt(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ct,Rt)}catch(vt){Rt(vt)}finally{Q!==null&&et.types!==null&&(Q.types=et.types),C.T=Q}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(O){return C.H.use(O)},Tt.useActionState=function(O,Q,et){return C.H.useActionState(O,Q,et)},Tt.useCallback=function(O,Q){return C.H.useCallback(O,Q)},Tt.useContext=function(O){return C.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},Tt.useEffect=function(O,Q){return C.H.useEffect(O,Q)},Tt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(O,Q,et){return C.H.useImperativeHandle(O,Q,et)},Tt.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},Tt.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},Tt.useMemo=function(O,Q){return C.H.useMemo(O,Q)},Tt.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},Tt.useReducer=function(O,Q,et){return C.H.useReducer(O,Q,et)},Tt.useRef=function(O){return C.H.useRef(O)},Tt.useState=function(O){return C.H.useState(O)},Tt.useSyncExternalStore=function(O,Q,et){return C.H.useSyncExternalStore(O,Q,et)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.0",Tt}var D_;function um(){return D_||(D_=1,gd.exports=fS()),gd.exports}var Dt=um();const dS=s0(Dt);var yd={exports:{}},ul={},_d={exports:{}},vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function mS(){return w_||(w_=1,(function(r){function t(q,nt){var ot=q.length;q.push(nt);t:for(;0<ot;){var Rt=ot-1>>>1,Qt=q[Rt];if(0<l(Qt,nt))q[Rt]=nt,q[ot]=Qt,ot=Rt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var nt=q[0],ot=q.pop();if(ot!==nt){q[0]=ot;t:for(var Rt=0,Qt=q.length,O=Qt>>>1;Rt<O;){var Q=2*(Rt+1)-1,et=q[Q],it=Q+1,gt=q[it];if(0>l(et,ot))it<Qt&&0>l(gt,et)?(q[Rt]=gt,q[it]=ot,Rt=it):(q[Rt]=et,q[Q]=ot,Rt=Q);else if(it<Qt&&0>l(gt,ot))q[Rt]=gt,q[it]=ot,Rt=it;else break t}}return nt}function l(q,nt){var ot=q.sortIndex-nt.sortIndex;return ot!==0?ot:q.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],S=1,b=null,V=3,H=!1,X=!1,W=!1,J=!1,ht=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function qt(q){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=q)a(_),nt.sortIndex=nt.expirationTime,t(v,nt);else break;nt=i(_)}}function ie(q){if(W=!1,qt(q),!X)if(i(v)!==null)X=!0,Ct||(Ct=!0,U());else{var nt=i(_);nt!==null&&me(ie,nt.startTime-q)}}var Ct=!1,C=-1,A=5,w=-1;function M(){return J?!0:!(r.unstable_now()-w<A)}function I(){if(J=!1,Ct){var q=r.unstable_now();w=q;var nt=!0;try{t:{X=!1,W&&(W=!1,ft(C),C=-1),H=!0;var ot=V;try{e:{for(qt(q),b=i(v);b!==null&&!(b.expirationTime>q&&M());){var Rt=b.callback;if(typeof Rt=="function"){b.callback=null,V=b.priorityLevel;var Qt=Rt(b.expirationTime<=q);if(q=r.unstable_now(),typeof Qt=="function"){b.callback=Qt,qt(q),nt=!0;break e}b===i(v)&&a(v),qt(q)}else a(v);b=i(v)}if(b!==null)nt=!0;else{var O=i(_);O!==null&&me(ie,O.startTime-q),nt=!1}}break t}finally{b=null,V=ot,H=!1}nt=void 0}}finally{nt?U():Ct=!1}}}var U;if(typeof pt=="function")U=function(){pt(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,zt=D.port2;D.port1.onmessage=I,U=function(){zt.postMessage(null)}}else U=function(){ht(I,0)};function me(q,nt){C=ht(function(){q(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(q){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ot=V;V=nt;try{return q()}finally{V=ot}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(q,nt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ot=V;V=q;try{return nt()}finally{V=ot}},r.unstable_scheduleCallback=function(q,nt,ot){var Rt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Rt+ot:Rt):ot=Rt,q){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ot+Qt,q={id:S++,callback:nt,priorityLevel:q,startTime:ot,expirationTime:Qt,sortIndex:-1},ot>Rt?(q.sortIndex=ot,t(_,q),i(v)===null&&q===i(_)&&(W?(ft(C),C=-1):W=!0,me(ie,ot-Rt))):(q.sortIndex=Qt,t(v,q),X||H||(X=!0,Ct||(Ct=!0,U()))),q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(q){var nt=V;return function(){var ot=V;V=nt;try{return q.apply(this,arguments)}finally{V=ot}}}})(vd)),vd}var R_;function pS(){return R_||(R_=1,_d.exports=mS()),_d.exports}var Ed={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function gS(){if(C_)return Ze;C_=1;var r=um();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:v,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,S)},Ze.flushSync=function(v){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=S,a.d.f()}},Ze.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ze.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ze.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,b=g(S,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:H}):S==="script"&&a.d.X(v,{crossOrigin:b,integrity:V,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ze.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ze.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,b=g(S,_.crossOrigin);a.d.L(v,S,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ze.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ze.requestFormReset=function(v){a.d.r(v)},Ze.unstable_batchedUpdates=function(v,_){return v(_)},Ze.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.0",Ze}var I_;function yS(){if(I_)return Ed.exports;I_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ed.exports=gS(),Ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function _S(){if(N_)return ul;N_=1;var r=pS(),t=um(),i=yS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=f;else{for(var p=!1,E=c.child;E;){if(E===s){p=!0,s=c,o=f;break}if(E===o){p=!0,o=c,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=c;break}if(E===o){p=!0,o=f,s=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ht:return"Profiler";case J:return"StrictMode";case ie:return"Suspense";case Ct:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case pt:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:zt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return zt(e(n))}catch{}}return null}var me=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Rt=[],Qt=-1;function O(e){return{current:e}}function Q(e){0>Qt||(e.current=Rt[Qt],Rt[Qt]=null,Qt--)}function et(e,n){Qt++,Rt[Qt]=e.current,e.current=n}var it=O(null),gt=O(null),vt=O(null),Ot=O(null);function ye(e,n){switch(et(vt,n),et(gt,e),et(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Fy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Fy(n),e=Qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(it),et(it,e)}function se(){Q(it),Q(gt),Q(vt)}function Oi(e){e.memoizedState!==null&&et(Ot,e);var n=it.current,s=Qy(n,e.type);n!==s&&(et(gt,e),et(it,s))}function os(e){gt.current===e&&(Q(it),Q(gt)),Ot.current===e&&(Q(Ot),sl._currentValue=ot)}var Mi,ls;function An(e){if(Mi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Mi=n&&n[1]||"",ls=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+e+ls}var rr=!1;function lt(e,n){if(!e||rr)return"";rr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(j){var P=j}Reflect.construct(e,[],K)}else{try{K.call()}catch(j){P=j}e.call(K.prototype)}}else{try{throw Error()}catch(j){P=j}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),k=E.split(`
`);for(c=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(o===R.length||c===k.length)for(o=R.length-1,c=k.length-1;1<=o&&0<=c&&R[o]!==k[c];)c--;for(;1<=o&&0<=c;o--,c--)if(R[o]!==k[c]){if(o!==1||c!==1)do if(o--,c--,0>c||R[o]!==k[c]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=c);break}}}finally{rr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?An(s):""}function kt(e,n){switch(e.tag){case 26:case 27:case 5:return An(e.type);case 16:return An("Lazy");case 13:return e.child!==n&&n!==null?An("Suspense Fallback"):An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return An("Activity");default:return""}}function ae(e){try{var n="",s=null;do n+=kt(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ht=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,us=r.unstable_cancelCallback,gh=r.unstable_shouldYield,ql=r.unstable_requestPaint,en=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,ao=r.unstable_ImmediatePriority,oo=r.unstable_UserBlockingPriority,cs=r.unstable_NormalPriority,yh=r.unstable_LowPriority,Hl=r.unstable_IdlePriority,Gl=r.log,Fl=r.unstable_setDisableYieldValue,zn=null,je=null;function bn(e){if(typeof Gl=="function"&&Fl(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(zn,e)}catch{}}var _e=Math.clz32?Math.clz32:Kl,Ql=Math.log,Xr=Math.LN2;function Kl(e){return e>>>=0,e===0?32:31-(Ql(e)/Xr|0)|0}var ei=256,or=262144,Ae=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=ni(o):(p&=E,p!==0?c=ni(p):s||(s=E&~e,s!==0&&(c=ni(s))))):(E=o&~f,E!==0?c=ni(E):p!==0?c=ni(p):s||(s=o&~e,s!==0&&(c=ni(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function _h(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function si(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function lr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vh(e,n,s,o,c,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-_e(s),K=1<<G;E[G]=0,R[G]=-1;var P=k[G];if(P!==null)for(k[G]=null,G=0;G<P.length;G++){var j=P[G];j!==null&&(j.lane&=-536870913)}s&=~K}o!==0&&ur(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ur(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function lo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-_e(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function uo(e,n){var s=n&-n;return s=(s&42)!==0?1:cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xl(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function qn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Hn=Math.random().toString(36).slice(2),be="__reactFiber$"+Hn,xe="__reactProps$"+Hn,ri="__reactContainer$"+Hn,Zr="__reactEvents$"+Hn,Eh="__reactListeners$"+Hn,Zl="__reactHandles$"+Hn,Jl="__reactResources$"+Hn,ai="__reactMarker$"+Hn;function Jr(e){delete e[be],delete e[xe],delete e[Zr],delete e[Eh],delete e[Zl]}function oi(e){var n=e[be];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ri]||s[be]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Wy(e);e!==null;){if(s=e[be])return s;e=Wy(e)}return n}e=s,s=e.parentNode}return null}function Dn(e){if(e=e[be]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[Jl];return n||(n=e[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(e){e[ai]=!0}var co=new Set,ho={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(ho[e]=n,e=0;e<n.length;e++)co.add(n[e])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},po={};function $l(e){return Ht.call(po,e)?!0:Ht.call(mo,e)?!1:fo.test(e)?po[e]=!0:(mo[e]=!0,!1)}function $r(e,n,s){if($l(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function we(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function go(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=hs(e)?"checked":"value";e._valueTracker=go(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=hs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function rn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(e,n,s,o,c,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?yo(e,p,Le(n)):s!=null?yo(e,p,Le(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function Wl(e,n,s,o,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Zt(e)}function yo(e,n,s){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function fs(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function tu(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function ds(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(me(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Zt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||eu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&_o(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&_o(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Eo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,fi=null;function dr(e){var n=Dn(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Wr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[xe]||null;if(!c)throw Error(a(90));Wr(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&hr(o)}break t;case"textarea":tu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&fs(e,!!s.multiple,n,!1)}}}var na=!1;function gs(e,n,s){if(na)return e(n,s);na=!0;try{var o=e(n);return o}finally{if(na=!1,(ps!==null||fi!==null)&&(Xu(),ps&&(n=ps,e=fi,fi=ps=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function Fn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Rn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{mr=!1}var di=null,To=null,pr=null;function So(){if(pr)return pr;var e,n=To,s=n.length,o,c="value"in di?di.value:di.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===c[f-o];o++);return pr=c.slice(e,1<o?1-o:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Qn(){return!1}function qe(e){function n(s,o,c,f,p){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:Qn,this.isPropagationStopped=Qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=qe(Ui),ys=b({},Ui,{view:0,detail:0}),Ao=qe(ys),_s,ia,pi,sa=b({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(_s=e.screenX-pi.screenX,ia=e.screenY-pi.screenY):ia=_s=0,pi=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),bo=qe(sa),yr=b({},sa,{dataTransfer:0}),iu=qe(yr),su=b({},ys,{relatedTarget:0}),_r=qe(su),Do=b({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=qe(Do),ra=b({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),au=qe(ra),ou=b({},Ui,{data:0}),gi=qe(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cu[e])?!!n[e]:!1}function vs(){return hu}var nn=b({},ys,{key:function(e){if(e.key){var n=lu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fu=qe(nn),du=b({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=qe(du),u=b({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=qe(u),y=b({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=qe(y),x=b({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z=qe(x),tt=b({},Ui,{newState:0,oldState:0}),At=qe(tt),ve=[9,13,27,32],Kt=Rn&&"CompositionEvent"in window,ce=null;Rn&&"documentMode"in document&&(ce=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!ce,yi=Rn&&(!Kt||ce&&8<ce&&11>=ce),Kn=" ",Yn=!1;function vr(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function NT(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Yn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Yn?null:e;default:return null}}function OT(e,n){if(oa)return e==="compositionend"||!Kt&&vr(e,n)?(e=So(),pr=To=di=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function np(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!MT[e.type]:n==="textarea"}function ip(e,n,s,o){ps?fi?fi.push(o):fi=[o]:ps=o,n=nc(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var wo=null,Ro=null;function VT(e){Py(e,0)}function mu(e){var n=dn(e);if(hr(n))return e}function sp(e,n){if(e==="change")return n}var rp=!1;if(Rn){var Th;if(Rn){var Sh="oninput"in document;if(!Sh){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),Sh=typeof ap.oninput=="function"}Th=Sh}else Th=!1;rp=Th&&(!document.documentMode||9<document.documentMode)}function op(){wo&&(wo.detachEvent("onpropertychange",lp),Ro=wo=null)}function lp(e){if(e.propertyName==="value"&&mu(Ro)){var n=[];ip(n,Ro,e,wn(e)),gs(VT,n)}}function BT(e,n,s){e==="focusin"?(op(),wo=n,Ro=s,wo.attachEvent("onpropertychange",lp)):e==="focusout"&&op()}function UT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(Ro)}function xT(e,n){if(e==="click")return mu(n)}function LT(e,n){if(e==="input"||e==="change")return mu(n)}function kT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:kT;function Co(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!Ht.call(n,c)||!pn(e[c],n[c]))return!1}return!0}function up(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cp(e,n){var s=up(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=up(s)}}function hp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function fp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=hi(e.document)}return n}function Ah(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var PT=Rn&&"documentMode"in document&&11>=document.documentMode,la=null,bh=null,Io=null,Dh=!1;function dp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Dh||la==null||la!==hi(o)||(o=la,"selectionStart"in o&&Ah(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Co(Io,o)||(Io=o,o=nc(bh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=la)))}function Er(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ua={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},wh={},mp={};Rn&&(mp=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Tr(e){if(wh[e])return wh[e];if(!ua[e])return e;var n=ua[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in mp)return wh[e]=n[s];return e}var pp=Tr("animationend"),gp=Tr("animationiteration"),yp=Tr("animationstart"),zT=Tr("transitionrun"),jT=Tr("transitionstart"),qT=Tr("transitioncancel"),_p=Tr("transitionend"),vp=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function Xn(e,n){vp.set(e,n),ui(n,[e])}var pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ca=0,Ch=0;function gu(){for(var e=ca,n=Ch=ca=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var c=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&c!==null){var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}f!==0&&Ep(s,c,f)}}function yu(e,n,s,o){In[ca++]=e,In[ca++]=n,In[ca++]=s,In[ca++]=o,Ch|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ih(e,n,s,o){return yu(e,n,s,o),_u(e)}function Sr(e,n){return yu(e,null,null,n),_u(e)}function Ep(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-_e(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function _u(e){if(50<Jo)throw Jo=0,Pf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function HT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new HT(e,n,s,o)}function Nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Tp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vu(e,n,s,o,c,f){var p=0;if(o=e,typeof e=="function")Nh(e)&&(p=1);else if(typeof e=="string")p=Y1(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=gn(31,s,n,c),e.elementType=w,e.lanes=f,e;case W:return Ar(s.children,c,f,n);case J:p=8,c|=24;break;case ht:return e=gn(12,s,n,c|2),e.elementType=ht,e.lanes=f,e;case ie:return e=gn(13,s,n,c),e.elementType=ie,e.lanes=f,e;case Ct:return e=gn(19,s,n,c),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:p=10;break t;case ft:p=9;break t;case qt:p=11;break t;case C:p=14;break t;case A:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function Ar(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function Oh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Sp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Mh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ap=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Ap.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ae(n)},Ap.set(e,n),n)}return{value:e,source:n,stack:ae(n)}}var fa=[],da=0,Eu=null,No=0,On=[],Mn=0,Es=null,_i=1,vi="";function ki(e,n){fa[da++]=No,fa[da++]=Eu,Eu=e,No=n}function bp(e,n,s){On[Mn++]=_i,On[Mn++]=vi,On[Mn++]=Es,Es=e;var o=_i;e=vi;var c=32-_e(o)-1;o&=~(1<<c),s+=1;var f=32-_e(n)+c;if(30<f){var p=c-c%5;f=(o&(1<<p)-1).toString(32),o>>=p,c-=p,_i=1<<32-_e(n)+c|s<<c|o,vi=f+e}else _i=1<<f|s<<c|o,vi=e}function Vh(e){e.return!==null&&(ki(e,1),bp(e,1,0))}function Bh(e){for(;e===Eu;)Eu=fa[--da],fa[da]=null,No=fa[--da],fa[da]=null;for(;e===Es;)Es=On[--Mn],On[Mn]=null,vi=On[--Mn],On[Mn]=null,_i=On[--Mn],On[Mn]=null}function Dp(e,n){On[Mn++]=_i,On[Mn++]=vi,On[Mn++]=Es,_i=n.id,vi=n.overflow,Es=e}var He=null,oe=null,Pt=!1,Ts=null,Vn=!1,Uh=Error(a(519));function Ss(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oo(Nn(n,e)),Uh}function wp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[be]=e,n[xe]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<Wo.length;s++)Nt(Wo[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Wl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),ds(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Hy(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Ss(e,!0)}function Rp(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:He=He.return}}function ma(e){if(e!==He)return!1;if(!Pt)return Rp(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||td(e.type,e.memoizedProps)),s=!s),s&&oe&&Ss(e),Rp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=$y(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=$y(e)}else n===27?(n=oe,xs(e.type)?(e=rd,rd=null,oe=e):oe=n):oe=He?Un(e.stateNode.nextSibling):null;return!0}function br(){oe=He=null,Pt=!1}function xh(){var e=Ts;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Ts=null),e}function Oo(e){Ts===null?Ts=[e]:Ts.push(e)}var Lh=O(null),Dr=null,Pi=null;function As(e,n,s){et(Lh,n._currentValue),n._currentValue=s}function zi(e){e._currentValue=Lh.current,Q(Lh)}function kh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Ph(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),kh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),kh(p,s,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function pa(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;pn(c.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ot.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}c=c.return}e!==null&&Ph(n,e,s,o),n.flags|=262144}function Tu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){Dr=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Cp(Dr,e)}function Su(e,n){return Dr===null&&wr(e),Cp(e,n)}function Cp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Pi===null){if(e===null)throw Error(a(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return s}var GT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},FT=r.unstable_scheduleCallback,QT=r.unstable_NormalPriority,Re={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new GT,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&FT(QT,function(){e.controller.abort()})}var Vo=null,jh=0,ga=0,ya=null;function KT(e,n){if(Vo===null){var s=Vo=[];jh=0,ga=Ff(),ya={status:"pending",value:void 0,then:function(o){s.push(o)}}}return jh++,n.then(Ip,Ip),n}function Ip(){if(--jh===0&&Vo!==null){ya!==null&&(ya.status="fulfilled");var e=Vo;Vo=null,ga=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function YT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Np=q.S;q.S=function(e,n){dy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&KT(e,n),Np!==null&&Np(e,n)};var Rr=O(null);function qh(){var e=Rr.current;return e!==null?e:re.pooledCache}function Au(e,n){n===null?et(Rr,Rr.current):et(Rr,n.pool)}function Op(){var e=qh();return e===null?null:{parent:Re._currentValue,pool:e}}var _a=Error(a(460)),Hh=Error(a(474)),bu=Error(a(542)),Du={then:function(){}};function Mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Gn,Gn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Up(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Up(e),e}throw Ir=n,_a}}function Cr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ir=s,_a):s}}var Ir=null;function Bp(){if(Ir===null)throw Error(a(459));var e=Ir;return Ir=null,e}function Up(e){if(e===_a||e===bu)throw Error(a(483))}var va=null,Bo=0;function wu(e){var n=Bo;return Bo+=1,va===null&&(va=[]),Vp(va,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function xp(e){function n(B,N){if(e){var L=B.deletions;L===null?(B.deletions=[N],B.flags|=16):L.push(N)}}function s(B,N){if(!e)return null;for(;N!==null;)n(B,N),N=N.sibling;return null}function o(B){for(var N=new Map;B!==null;)B.key!==null?N.set(B.key,B):N.set(B.index,B),B=B.sibling;return N}function c(B,N){return B=Li(B,N),B.index=0,B.sibling=null,B}function f(B,N,L){return B.index=L,e?(L=B.alternate,L!==null?(L=L.index,L<N?(B.flags|=67108866,N):L):(B.flags|=67108866,N)):(B.flags|=1048576,N)}function p(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function E(B,N,L,F){return N===null||N.tag!==6?(N=Oh(L,B.mode,F),N.return=B,N):(N=c(N,L),N.return=B,N)}function R(B,N,L,F){var ct=L.type;return ct===W?G(B,N,L.props.children,F,L.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Cr(ct)===N.type)?(N=c(N,L.props),Uo(N,L),N.return=B,N):(N=vu(L.type,L.key,L.props,null,B.mode,F),Uo(N,L),N.return=B,N)}function k(B,N,L,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Mh(L,B.mode,F),N.return=B,N):(N=c(N,L.children||[]),N.return=B,N)}function G(B,N,L,F,ct){return N===null||N.tag!==7?(N=Ar(L,B.mode,F,ct),N.return=B,N):(N=c(N,L),N.return=B,N)}function K(B,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Oh(""+N,B.mode,L),N.return=B,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return L=vu(N.type,N.key,N.props,null,B.mode,L),Uo(L,N),L.return=B,L;case X:return N=Mh(N,B.mode,L),N.return=B,N;case A:return N=Cr(N),K(B,N,L)}if(me(N)||U(N))return N=Ar(N,B.mode,L,null),N.return=B,N;if(typeof N.then=="function")return K(B,wu(N),L);if(N.$$typeof===pt)return K(B,Su(B,N),L);Ru(B,N)}return null}function P(B,N,L,F){var ct=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(B,N,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ct?R(B,N,L,F):null;case X:return L.key===ct?k(B,N,L,F):null;case A:return L=Cr(L),P(B,N,L,F)}if(me(L)||U(L))return ct!==null?null:G(B,N,L,F,null);if(typeof L.then=="function")return P(B,N,wu(L),F);if(L.$$typeof===pt)return P(B,N,Su(B,L),F);Ru(B,L)}return null}function j(B,N,L,F,ct){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return B=B.get(L)||null,E(N,B,""+F,ct);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case H:return B=B.get(F.key===null?L:F.key)||null,R(N,B,F,ct);case X:return B=B.get(F.key===null?L:F.key)||null,k(N,B,F,ct);case A:return F=Cr(F),j(B,N,L,F,ct)}if(me(F)||U(F))return B=B.get(L)||null,G(N,B,F,ct,null);if(typeof F.then=="function")return j(B,N,L,wu(F),ct);if(F.$$typeof===pt)return j(B,N,L,Su(N,F),ct);Ru(N,F)}return null}function rt(B,N,L,F){for(var ct=null,Gt=null,at=N,wt=N=0,Bt=null;at!==null&&wt<L.length;wt++){at.index>wt?(Bt=at,at=null):Bt=at.sibling;var Ft=P(B,at,L[wt],F);if(Ft===null){at===null&&(at=Bt);break}e&&at&&Ft.alternate===null&&n(B,at),N=f(Ft,N,wt),Gt===null?ct=Ft:Gt.sibling=Ft,Gt=Ft,at=Bt}if(wt===L.length)return s(B,at),Pt&&ki(B,wt),ct;if(at===null){for(;wt<L.length;wt++)at=K(B,L[wt],F),at!==null&&(N=f(at,N,wt),Gt===null?ct=at:Gt.sibling=at,Gt=at);return Pt&&ki(B,wt),ct}for(at=o(at);wt<L.length;wt++)Bt=j(at,B,wt,L[wt],F),Bt!==null&&(e&&Bt.alternate!==null&&at.delete(Bt.key===null?wt:Bt.key),N=f(Bt,N,wt),Gt===null?ct=Bt:Gt.sibling=Bt,Gt=Bt);return e&&at.forEach(function(js){return n(B,js)}),Pt&&ki(B,wt),ct}function mt(B,N,L,F){if(L==null)throw Error(a(151));for(var ct=null,Gt=null,at=N,wt=N=0,Bt=null,Ft=L.next();at!==null&&!Ft.done;wt++,Ft=L.next()){at.index>wt?(Bt=at,at=null):Bt=at.sibling;var js=P(B,at,Ft.value,F);if(js===null){at===null&&(at=Bt);break}e&&at&&js.alternate===null&&n(B,at),N=f(js,N,wt),Gt===null?ct=js:Gt.sibling=js,Gt=js,at=Bt}if(Ft.done)return s(B,at),Pt&&ki(B,wt),ct;if(at===null){for(;!Ft.done;wt++,Ft=L.next())Ft=K(B,Ft.value,F),Ft!==null&&(N=f(Ft,N,wt),Gt===null?ct=Ft:Gt.sibling=Ft,Gt=Ft);return Pt&&ki(B,wt),ct}for(at=o(at);!Ft.done;wt++,Ft=L.next())Ft=j(at,B,wt,Ft.value,F),Ft!==null&&(e&&Ft.alternate!==null&&at.delete(Ft.key===null?wt:Ft.key),N=f(Ft,N,wt),Gt===null?ct=Ft:Gt.sibling=Ft,Gt=Ft);return e&&at.forEach(function(rS){return n(B,rS)}),Pt&&ki(B,wt),ct}function ne(B,N,L,F){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var ct=L.key;N!==null;){if(N.key===ct){if(ct=L.type,ct===W){if(N.tag===7){s(B,N.sibling),F=c(N,L.props.children),F.return=B,B=F;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Cr(ct)===N.type){s(B,N.sibling),F=c(N,L.props),Uo(F,L),F.return=B,B=F;break t}s(B,N);break}else n(B,N);N=N.sibling}L.type===W?(F=Ar(L.props.children,B.mode,F,L.key),F.return=B,B=F):(F=vu(L.type,L.key,L.props,null,B.mode,F),Uo(F,L),F.return=B,B=F)}return p(B);case X:t:{for(ct=L.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(B,N.sibling),F=c(N,L.children||[]),F.return=B,B=F;break t}else{s(B,N);break}else n(B,N);N=N.sibling}F=Mh(L,B.mode,F),F.return=B,B=F}return p(B);case A:return L=Cr(L),ne(B,N,L,F)}if(me(L))return rt(B,N,L,F);if(U(L)){if(ct=U(L),typeof ct!="function")throw Error(a(150));return L=ct.call(L),mt(B,N,L,F)}if(typeof L.then=="function")return ne(B,N,wu(L),F);if(L.$$typeof===pt)return ne(B,N,Su(B,L),F);Ru(B,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(B,N.sibling),F=c(N,L),F.return=B,B=F):(s(B,N),F=Oh(L,B.mode,F),F.return=B,B=F),p(B)):s(B,N)}return function(B,N,L,F){try{Bo=0;var ct=ne(B,N,L,F);return va=null,ct}catch(at){if(at===_a||at===bu)throw at;var Gt=gn(29,at,null,B.mode);return Gt.lanes=F,Gt.return=B,Gt}finally{}}}var Nr=xp(!0),Lp=xp(!1),bs=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=_u(e),Ep(e,null,s),n}return yu(e,o,n,s),_u(e)}function xo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,lo(e,s)}}function Qh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Kh=!1;function Lo(){if(Kh){var e=ya;if(e!==null)throw e}}function ko(e,n,s,o){Kh=!1;var c=e.updateQueue;bs=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,k=R.next;R.next=null,p===null?f=k:p.next=k,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=k:E.next=k,G.lastBaseUpdate=R))}if(f!==null){var K=c.baseState;p=0,G=k=R=null,E=f;do{var P=E.lane&-536870913,j=P!==E.lane;if(j?(Vt&P)===P:(o&P)===P){P!==0&&P===ga&&(Kh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,mt=E;P=n;var ne=s;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){K=rt.call(ne,K,P);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,P=typeof rt=="function"?rt.call(ne,K,P):rt,P==null)break t;K=b({},K,P);break t;case 2:bs=!0}}P=E.callback,P!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[P]:j.push(P))}else j={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(k=G=j,R=K):G=G.next=j,p|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);G===null&&(R=K),c.baseState=R,c.firstBaseUpdate=k,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),Os|=p,e.lanes=p,e.memoizedState=K}}function kp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Pp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)kp(s[e],n)}var Ea=O(null),Cu=O(0);function zp(e,n){e=Xi,et(Cu,e),et(Ea,n),Xi=e|n.baseLanes}function Yh(){et(Cu,Xi),et(Ea,Ea.current)}function Xh(){Xi=Cu.current,Q(Ea),Q(Cu)}var yn=O(null),Bn=null;function Rs(e){var n=e.alternate;et(Ee,Ee.current&1),et(yn,e),Bn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Bn=e)}function Zh(e){et(Ee,Ee.current),et(yn,e),Bn===null&&(Bn=e)}function jp(e){e.tag===22?(et(Ee,Ee.current),et(yn,e),Bn===null&&(Bn=e)):Cs()}function Cs(){et(Ee,Ee.current),et(yn,yn.current)}function _n(e){Q(yn),Bn===e&&(Bn=null),Q(Ee)}var Ee=O(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||id(s)||sd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,bt=null,te=null,Ce=null,Nu=!1,Ta=!1,Or=!1,Ou=0,Po=0,Sa=null,XT=0;function pe(){throw Error(a(321))}function Jh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function $h(e,n,s,o,c,f){return ji=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?bg:mf,Or=!1,f=s(o,c),Or=!1,Ta&&(f=Hp(n,s,o,c)),qp(e),f}function qp(e){q.H=qo;var n=te!==null&&te.next!==null;if(ji=0,Ce=te=bt=null,Nu=!1,Po=0,Sa=null,n)throw Error(a(300));e===null||Ie||(e=e.dependencies,e!==null&&Tu(e)&&(Ie=!0))}function Hp(e,n,s,o){bt=e;var c=0;do{if(Ta&&(Sa=null),Po=0,Ta=!1,25<=c)throw Error(a(301));if(c+=1,Ce=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Dg,f=n(s,o)}while(Ta);return f}function ZT(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?zo(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(bt.flags|=1024),n}function Wh(){var e=Ou!==0;return Ou=0,e}function tf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ef(e){if(Nu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Nu=!1}ji=0,Ce=te=bt=null,Ta=!1,Po=Ou=0,Sa=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?bt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Te(){if(te===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=Ce===null?bt.memoizedState:Ce.next;if(n!==null)Ce=n,te=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ce===null?bt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var n=Po;return Po+=1,Sa===null&&(Sa=[]),e=Vp(Sa,e,n),n=bt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?bg:mf),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===pt)return Ge(e)}throw Error(a(438,String(e)))}function nf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Mu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function qi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=Te();return sf(n,te,e)}function sf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=p=null,R=null,k=n,G=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(Vt&K)===K:(ji&K)===K){var P=k.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===ga&&(G=!0);else if((ji&P)===P){k=k.next,P===ga&&(G=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=K,p=f):R=R.next=K,bt.lanes|=P,Os|=P;K=k.action,Or&&s(f,K),f=k.hasEagerState?k.eagerState:s(f,K)}else P={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=P,p=f):R=R.next=P,bt.lanes|=K,Os|=K;k=k.next}while(k!==null&&k!==n);if(R===null?p=f:R.next=E,!pn(f,e.memoizedState)&&(Ie=!0,G&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function rf(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);pn(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Gp(e,n,s){var o=bt,c=Te(),f=Pt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn((te||c).memoizedState,s);if(p&&(c.memoizedState=s,Ie=!0),c=c.queue,lf(Kp.bind(null,o,c,e),[e]),c.getSnapshot!==n||p||Ce!==null&&Ce.memoizedState.tag&1){if(o.flags|=2048,Aa(9,{destroy:void 0},Qp.bind(null,o,c,s,n),null),re===null)throw Error(a(349));f||(ji&127)!==0||Fp(o,n,s)}return s}function Fp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Mu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Qp(e,n,s,o){n.value=s,n.getSnapshot=o,Yp(n)&&Xp(e)}function Kp(e,n,s){return s(function(){Yp(n)&&Xp(e)})}function Yp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function Xp(e){var n=Sr(e,2);n!==null&&hn(n,e,2)}function af(e){var n=sn();if(typeof e=="function"){var s=e;if(e=s(),Or){bn(!0);try{s()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function Zp(e,n,s,o){return e.baseState=s,sf(e,te,typeof o=="function"?o:qi)}function JT(e,n,s,o,c){if(Lu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Jp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Jp(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var E=s(c,o),R=q.S;R!==null&&R(p,E),$p(e,n,E)}catch(k){of(e,n,k)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=s(c,o),$p(e,n,f)}catch(k){of(e,n,k)}}function $p(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Wp(e,n,o)},function(o){return of(e,n,o)}):Wp(e,n,s)}function Wp(e,n,s){n.status="fulfilled",n.value=s,tg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Jp(e,s)))}function of(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,tg(n),n=n.next;while(n!==o)}e.action=null}function tg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function eg(e,n){return n}function ng(e,n){if(Pt){var s=re.formState;if(s!==null){t:{var o=bt;if(Pt){if(oe){e:{for(var c=oe,f=Vn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=Un(c.nextSibling),o=c.data==="F!";break t}}Ss(o)}o=!1}o&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:n},s.queue=o,s=Tg.bind(null,bt,o),o.dispatch=s,o=af(!1),f=df.bind(null,bt,!1,o.queue),o=sn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=JT.bind(null,bt,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function ig(e){var n=Te();return sg(n,te,e)}function sg(e,n,s){if(n=sf(e,n,eg)[0],e=Bu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=zo(n)}catch(p){throw p===_a?bu:p}else o=n;n=Te();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Aa(9,{destroy:void 0},$T.bind(null,c,s),null)),[o,f,e]}function $T(e,n){e.action=n}function rg(e){var n=Te(),s=te;if(s!==null)return sg(n,s,e);Te(),n=n.memoizedState,s=Te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Aa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Mu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function ag(){return Te().memoizedState}function Uu(e,n,s,o){var c=sn();bt.flags|=e,c.memoizedState=Aa(1|n,{destroy:void 0},s,o===void 0?null:o)}function xu(e,n,s,o){var c=Te();o=o===void 0?null:o;var f=c.memoizedState.inst;te!==null&&o!==null&&Jh(o,te.memoizedState.deps)?c.memoizedState=Aa(n,f,s,o):(bt.flags|=e,c.memoizedState=Aa(1|n,f,s,o))}function og(e,n){Uu(8390656,8,e,n)}function lf(e,n){xu(2048,8,e,n)}function WT(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Mu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function lg(e){var n=Te().memoizedState;return WT({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ug(e,n){return xu(4,2,e,n)}function cg(e,n){return xu(4,4,e,n)}function hg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function fg(e,n,s){s=s!=null?s.concat([e]):null,xu(4,4,hg.bind(null,n,e),s)}function uf(){}function dg(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Jh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function mg(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Jh(n,o[1]))return o[0];if(o=e(),Or){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o}function cf(e,n,s){return s===void 0||(ji&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=py(),bt.lanes|=e,Os|=e,s)}function pg(e,n,s,o){return pn(s,n)?s:Ea.current!==null?(e=cf(e,s,o),pn(e,n)||(Ie=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Vt&261930)===0?(Ie=!0,e.memoizedState=s):(e=py(),bt.lanes|=e,Os|=e,n)}function gg(e,n,s,o,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=q.T,E={};q.T=E,df(e,!1,n,s);try{var R=c(),k=q.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=YT(R,o);jo(e,n,G,Tn(e))}else jo(e,n,o,Tn(e))}catch(K){jo(e,n,{then:function(){},status:"rejected",reason:K},Tn())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),q.T=p}}function t1(){}function hf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var c=yg(e).queue;gg(e,c,n,ot,s===null?t1:function(){return _g(e),s(o)})}function yg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _g(e){var n=yg(e);n.next===null&&(n=e.alternate.memoizedState),jo(e,n.next.queue,{},Tn())}function ff(){return Ge(sl)}function vg(){return Te().memoizedState}function Eg(){return Te().memoizedState}function e1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Ds(s);var o=ws(n,e,s);o!==null&&(hn(o,n,s),xo(o,n,s)),n={cache:zh()},e.payload=n;return}n=n.return}}function n1(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(e)?Sg(n,s):(s=Ih(e,n,s,o),s!==null&&(hn(s,e,o),Ag(s,n,o)))}function Tg(e,n,s){var o=Tn();jo(e,n,s,o)}function jo(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))Sg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(c.hasEagerState=!0,c.eagerState=E,pn(E,p))return yu(e,n,c,0),re===null&&gu(),!1}catch{}finally{}if(s=Ih(e,n,c,o),s!==null)return hn(s,e,o),Ag(s,n,o),!0}return!1}function df(e,n,s,o){if(o={lane:2,revertLane:Ff(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(a(479))}else n=Ih(e,s,o,2),n!==null&&hn(n,e,2)}function Lu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Sg(e,n){Ta=Nu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ag(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,lo(e,s)}}var qo={readContext:Ge,use:Vu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};qo.useEffectEvent=pe;var bg={readContext:Ge,use:Vu,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:og,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Uu(4194308,4,hg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var s=sn();n=n===void 0?null:n;var o=e();if(Or){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=sn();if(s!==void 0){var c=s(n);if(Or){bn(!0);try{s(n)}finally{bn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=n1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=af(e);var n=e.queue,s=Tg.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:uf,useDeferredValue:function(e,n){var s=sn();return cf(s,e,n)},useTransition:function(){var e=af(!1);return e=gg.bind(null,bt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,c=sn();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),re===null)throw Error(a(349));(Vt&127)!==0||Fp(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,og(Kp.bind(null,o,f,e),[e]),o.flags|=2048,Aa(9,{destroy:void 0},Qp.bind(null,o,f,s,n),null),s},useId:function(){var e=sn(),n=re.identifierPrefix;if(Pt){var s=vi,o=_i;s=(o&~(1<<32-_e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ou++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=XT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ff,useFormState:ng,useActionState:ng,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=df.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:nf,useCacheRefresh:function(){return sn().memoizedState=e1.bind(null,bt)},useEffectEvent:function(e){var n=sn(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},mf={readContext:Ge,use:Vu,useCallback:dg,useContext:Ge,useEffect:lf,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:Bu,useRef:ag,useState:function(){return Bu(qi)},useDebugValue:uf,useDeferredValue:function(e,n){var s=Te();return pg(s,te.memoizedState,e,n)},useTransition:function(){var e=Bu(qi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:zo(e),n]},useSyncExternalStore:Gp,useId:vg,useHostTransitionStatus:ff,useFormState:ig,useActionState:ig,useOptimistic:function(e,n){var s=Te();return Zp(s,te,e,n)},useMemoCache:nf,useCacheRefresh:Eg};mf.useEffectEvent=lg;var Dg={readContext:Ge,use:Vu,useCallback:dg,useContext:Ge,useEffect:lf,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:rf,useRef:ag,useState:function(){return rf(qi)},useDebugValue:uf,useDeferredValue:function(e,n){var s=Te();return te===null?cf(s,e,n):pg(s,te.memoizedState,e,n)},useTransition:function(){var e=rf(qi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:zo(e),n]},useSyncExternalStore:Gp,useId:vg,useHostTransitionStatus:ff,useFormState:rg,useActionState:rg,useOptimistic:function(e,n){var s=Te();return te!==null?Zp(s,te,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:nf,useCacheRefresh:Eg};Dg.useEffectEvent=lg;function pf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var gf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),c=Ds(o);c.payload=n,s!=null&&(c.callback=s),n=ws(e,c,o),n!==null&&(hn(n,e,o),xo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),c=Ds(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ws(e,c,o),n!==null&&(hn(n,e,o),xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Ds(s);o.tag=2,n!=null&&(o.callback=n),n=ws(e,o,s),n!==null&&(hn(n,e,s),xo(n,e,s))}};function wg(e,n,s,o,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Co(s,o)||!Co(c,f):!0}function Rg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&gf.enqueueReplaceState(n,n.state,null)}function Mr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Cg(e){pu(e)}function Ig(e){console.error(e)}function Ng(e){pu(e)}function ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Og(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function yf(e,n,s){return s=Ds(s),s.tag=3,s.payload={element:null},s.callback=function(){ku(e,n)},s}function Mg(e){return e=Ds(e),e.tag=3,e}function Vg(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Og(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Og(n,s,o),typeof c!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function i1(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,c,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Bn===null?Zu():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),qf(e,o,c)),!1;case 22:return s.flags|=65536,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),qf(e,o,c)),!1}throw Error(a(435,s.tag))}return qf(e,o,c),Zu(),!1}if(Pt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Uh&&(e=Error(a(422),{cause:o}),Oo(Nn(e,s)))):(o!==Uh&&(n=Error(a(423),{cause:o}),Oo(Nn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Nn(o,s),c=yf(e.stateNode,o,c),Qh(e,c),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,s),Zo===null?Zo=[f]:Zo.push(f),ge!==4&&(ge=2),n===null)return!0;o=Nn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=yf(s.stateNode,o,e),Qh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Mg(c),Vg(c,e,s,o),Qh(s,c),!1}s=s.return}while(s!==null);return!1}var _f=Error(a(461)),Ie=!1;function Fe(e,n,s,o){n.child=e===null?Lp(n,null,s,o):Nr(n,e.child,s,o)}function Bg(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return wr(n),o=$h(e,n,s,p,f,c),E=Wh(),e!==null&&!Ie?(tf(e,n,c),Hi(e,n,c)):(Pt&&E&&Vh(n),n.flags|=1,Fe(e,n,o,c),n.child)}function Ug(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Nh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,xg(e,n,f,o,c)):(e=vu(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!wf(e,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Co,s(p,o)&&e.ref===n.ref)return Hi(e,n,c)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function xg(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(Co(f,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=f,wf(e,c))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,Hi(e,n,c)}return vf(e,n,s,o,c)}function Lg(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return kg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?zp(n,f):Yh(),jp(n);else return o=n.lanes=536870912,kg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Au(n,f.cachePool),zp(n,f),Cs(),n.memoizedState=null):(e!==null&&Au(n,null),Yh(),Cs());return Fe(e,n,c,s),n.child}function Ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function kg(e,n,s,o,c){var f=qh();return f=f===null?null:{parent:Re._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Au(n,null),Yh(),jp(n),e!==null&&pa(e,n,o,!0),n.childLanes=c,null}function Pu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Pg(e,n,s){return Nr(n,e.child,null,s),e=Pu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function s1(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Pu(n,o),n.lanes=536870912,Ho(null,e);if(Zh(n),(e=oe)?(e=Jy(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Es!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Sp(e),s.return=n,n.child=s,He=n,oe=null)):e=null,e===null)throw Ss(n);return n.lanes=536870912,null}return Pu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Zh(n),c)if(n.flags&256)n.flags&=-257,n=Pg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ie||pa(e,n,s,!1),c=(s&e.childLanes)!==0,Ie||c){if(o=re,o!==null&&(p=uo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Sr(e,p),hn(o,e,p),_f;Zu(),n=Pg(e,n,s)}else e=f.treeContext,oe=Un(p.nextSibling),He=n,Pt=!0,Ts=null,Vn=!1,e!==null&&Dp(n,e),n=Pu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function vf(e,n,s,o,c){return wr(n),s=$h(e,n,s,o,void 0,c),o=Wh(),e!==null&&!Ie?(tf(e,n,c),Hi(e,n,c)):(Pt&&o&&Vh(n),n.flags|=1,Fe(e,n,s,c),n.child)}function zg(e,n,s,o,c,f){return wr(n),n.updateQueue=null,s=Hp(n,o,s,c),qp(e),o=Wh(),e!==null&&!Ie?(tf(e,n,f),Hi(e,n,f)):(Pt&&o&&Vh(n),n.flags|=1,Fe(e,n,s,f),n.child)}function jg(e,n,s,o,c){if(wr(n),n.stateNode===null){var f=ha,p=s.contextType;typeof p=="object"&&p!==null&&(f=Ge(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Gh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Ge(p):ha,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(pf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&gf.enqueueReplaceState(f,f.state,null),ko(n,o,f,c),Lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Mr(s,E);f.props=R;var k=f.context,G=s.contextType;p=ha,typeof G=="object"&&G!==null&&(p=Ge(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==p)&&Rg(n,f,o,p),bs=!1;var P=n.memoizedState;f.state=P,ko(n,o,f,c),Lo(),k=n.memoizedState,E||P!==k||bs?(typeof K=="function"&&(pf(n,s,K,o),k=n.memoizedState),(R=bs||wg(n,s,R,o,P,k,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Fh(e,n),p=n.memoizedProps,G=Mr(s,p),f.props=G,K=n.pendingProps,P=f.context,k=s.contextType,R=ha,typeof k=="object"&&k!==null&&(R=Ge(k)),E=s.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||P!==R)&&Rg(n,f,o,R),bs=!1,P=n.memoizedState,f.state=P,ko(n,o,f,c),Lo();var j=n.memoizedState;p!==K||P!==j||bs||e!==null&&e.dependencies!==null&&Tu(e.dependencies)?(typeof E=="function"&&(pf(n,s,E,o),j=n.memoizedState),(G=bs||wg(n,s,G,o,P,j,R)||e!==null&&e.dependencies!==null&&Tu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Nr(n,e.child,null,c),n.child=Nr(n,null,s,c)):Fe(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Hi(e,n,c),e}function qg(e,n,s,o){return br(),n.flags|=256,Fe(e,n,s,o),n.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(e){return{baseLanes:e,cachePool:Op()}}function Sf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function Hg(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(c?Rs(n):Cs(),(e=oe)?(e=Jy(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Es!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Sp(e),s.return=n,n.child=s,He=n,oe=null)):e=null,e===null)throw Ss(n);return sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Cs(),c=n.mode,E=ju({mode:"hidden",children:E},c),o=Ar(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Tf(s),o.childLanes=Sf(e,p,s),n.memoizedState=Ef,Ho(null,o)):(Rs(n),Af(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=bf(e,n,s)):n.memoizedState!==null?(Cs(),n.child=e.child,n.flags|=128,n=null):(Cs(),E=o.fallback,c=n.mode,o=ju({mode:"visible",children:o.children},c),E=Ar(E,c,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Nr(n,e.child,null,s),o=n.child,o.memoizedState=Tf(s),o.childLanes=Sf(e,p,s),n.memoizedState=Ef,n=Ho(null,o));else if(Rs(n),sd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var k=p.dgst;p=k,o=Error(a(419)),o.stack="",o.digest=p,Oo({value:o,source:null,stack:null}),n=bf(e,n,s)}else if(Ie||pa(e,n,s,!1),p=(s&e.childLanes)!==0,Ie||p){if(p=re,p!==null&&(o=uo(p,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Sr(e,o),hn(p,e,o),_f;id(E)||Zu(),n=bf(e,n,s)}else id(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,oe=Un(E.nextSibling),He=n,Pt=!0,Ts=null,Vn=!1,e!==null&&Dp(n,e),n=Af(n,o.children),n.flags|=4096);return n}return c?(Cs(),E=o.fallback,c=n.mode,R=e.child,k=R.sibling,o=Li(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=Li(k,E):(E=Ar(E,c,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ho(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Tf(s):(c=E.cachePool,c!==null?(R=Re._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Op(),E={baseLanes:E.baseLanes|s,cachePool:c}),o.memoizedState=E,o.childLanes=Sf(e,p,s),n.memoizedState=Ef,Ho(e.child,o)):(Rs(n),s=e.child,e=s.sibling,s=Li(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Af(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function bf(e,n,s){return Nr(n,e.child,null,s),e=Af(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Gg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),kh(e.return,n,s)}function Df(e,n,s,o,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function Fg(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var p=Ee.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,et(Ee,p),Fe(e,n,o,s),o=Pt?No:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gg(e,s,n);else if(e.tag===19)Gg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Iu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Df(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Iu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Df(n,!0,s,null,f,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Os|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Li(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Li(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function wf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Tu(e)))}function r1(e,n,s){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),As(n,Re,e.memoizedState.cache),br();break;case 27:case 5:Oi(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Hg(e,n,s):(Rs(n),e=Hi(e,n,s),e!==null?e.sibling:null);Rs(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return Fg(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,Lg(e,n,s,n.pendingProps);case 24:As(n,Re,e.memoizedState.cache)}return Hi(e,n,s)}function Qg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!wf(e,s)&&(n.flags&128)===0)return Ie=!1,r1(e,n,s);Ie=(e.flags&131072)!==0}else Ie=!1,Pt&&(n.flags&1048576)!==0&&bp(n,No,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Cr(n.elementType),n.type=e,typeof e=="function")Nh(e)?(o=Mr(e,o),n.tag=1,n=jg(null,n,e,o,s)):(n.tag=0,n=vf(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===qt){n.tag=11,n=Bg(null,n,e,o,s);break t}else if(c===C){n.tag=14,n=Ug(null,n,e,o,s);break t}}throw n=zt(e)||e,Error(a(306,n,""))}}return n;case 0:return vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Mr(o,n.pendingProps),jg(e,n,o,c,s);case 3:t:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Fh(e,n),ko(n,o,null,s);var p=n.memoizedState;if(o=p.cache,As(n,Re,o),o!==f.cache&&Ph(n,[Re],s,!0),Lo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qg(e,n,o,s);break t}else if(o!==c){c=Nn(Error(a(424)),n),Oo(c),n=qg(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Un(e.firstChild),He=n,Pt=!0,Ts=null,Vn=!0,s=Lp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(br(),o===c){n=Hi(e,n,s);break t}Fe(e,n,o,s)}n=n.child}return n;case 26:return zu(e,n),e===null?(s=i_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,o=ic(vt.current).createElement(s),o[be]=n,o[xe]=e,Qe(o,s,e),De(o),n.stateNode=o):n.memoizedState=i_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Oi(n),e===null&&Pt&&(o=n.stateNode=t_(n.type,n.pendingProps,vt.current),He=n,Vn=!0,c=oe,xs(n.type)?(rd=c,oe=Un(o.firstChild)):oe=c),Fe(e,n,n.pendingProps.children,s),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((c=o=oe)&&(o=U1(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,He=n,oe=Un(o.firstChild),Vn=!1,c=!0):c=!1),c||Ss(n)),Oi(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,td(c,f)?o=null:p!==null&&td(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=$h(e,n,ZT,null,null,s),sl._currentValue=c),zu(e,n),Fe(e,n,o,s),n.child;case 6:return e===null&&Pt&&((e=s=oe)&&(s=x1(s,n.pendingProps,Vn),s!==null?(n.stateNode=s,He=n,oe=null,e=!0):e=!1),e||Ss(n)),null;case 13:return Hg(e,n,s);case 4:return ye(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Nr(n,null,o,s):Fe(e,n,o,s),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,s);case 7:return Fe(e,n,n.pendingProps,s),n.child;case 8:return Fe(e,n,n.pendingProps.children,s),n.child;case 12:return Fe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,As(n,n.type,o.value),Fe(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,wr(n),c=Ge(c),o=o(c),n.flags|=1,Fe(e,n,o,s),n.child;case 14:return Ug(e,n,n.type,n.pendingProps,s);case 15:return xg(e,n,n.type,n.pendingProps,s);case 19:return Fg(e,n,s);case 31:return s1(e,n,s);case 22:return Lg(e,n,s,n.pendingProps);case 24:return wr(n),o=Ge(Re),e===null?(c=qh(),c===null&&(c=re,f=zh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Gh(n),As(n,Re,c)):((e.lanes&s)!==0&&(Fh(e,n),ko(n,null,null,s),Lo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),As(n,Re,o)):(o=f.cache,As(n,Re,o),o!==c.cache&&Ph(n,[Re],s,!0))),Fe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(e){e.flags|=4}function Rf(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(vy())e.flags|=8192;else throw Ir=Du,Hh}else e.flags&=-16777217}function Kg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!l_(n))if(vy())e.flags|=8192;else throw Ir=Du,Hh}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yl():536870912,e.lanes|=n,Ra|=n)}function Go(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function a1(e,n,s){var o=n.pendingProps;switch(Bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Re),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xh())),le(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(le(n),Kg(n,f)):(le(n),Rf(n,c,null,o,s))):f?f!==e.memoizedState?(Gi(n),le(n),Kg(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),le(n),Rf(n,c,e,o,s)),null;case 27:if(os(n),s=vt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}e=it.current,ma(n)?wp(n):(e=t_(c,o,s),n.stateNode=e,Gi(n))}return le(n),null;case 5:if(os(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(f=it.current,ma(n))wp(n);else{var p=ic(vt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(c,{is:o.is}):p.createElement(c)}}f[be]=n,f[xe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Qe(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return le(n),Rf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=vt.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=He,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[be]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Hy(e.nodeValue,s)),e||Ss(n,!0)}else e=ic(e).createTextNode(o),e[be]=n,n.stateNode=e}return le(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[be]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else s=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[be]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),c=!1}else c=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),qu(n,n.updateQueue),le(n),null);case 4:return se(),e===null&&Xf(n.stateNode.containerInfo),le(n),null;case 10:return zi(n.type),le(n),null;case 19:if(Q(Ee),o=n.memoizedState,o===null)return le(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Go(o,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Go(o,!1),e=f.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Tp(s,e),s=s.sibling;return et(Ee,Ee.current&1|2),Pt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>Ku&&(n.flags|=128,c=!0,Go(o,!1),n.lanes=4194304)}else{if(!c)if(e=Iu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return le(n),null}else 2*en()-o.renderingStartTime>Ku&&s!==536870912&&(n.flags|=128,c=!0,Go(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,s=Ee.current,et(Ee,c?s&1|2:s&1),Pt&&ki(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return _n(n),Xh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),s=n.updateQueue,s!==null&&qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Rr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(Re),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function o1(e,n){switch(Bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Re),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return os(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Ee),null;case 4:return se(),null;case 10:return zi(n.type),null;case 22:case 23:return _n(n),Xh(),e!==null&&Q(Rr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Re),null;case 25:return null;default:return null}}function Yg(e,n){switch(Bh(n),n.tag){case 3:zi(Re),se();break;case 26:case 27:case 5:os(n);break;case 4:se();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Q(Ee);break;case 10:zi(n.type);break;case 22:case 23:_n(n),Xh(),e!==null&&Q(Rr);break;case 24:zi(Re)}}function Fo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==c)}}catch(E){$t(n,n.return,E)}}function Is(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var R=s,k=E;try{k()}catch(G){$t(c,R,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function Xg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Pp(n,s)}catch(o){$t(e,e.return,o)}}}function Zg(e,n,s){s.props=Mr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function Qo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){$t(e,n,c)}}function Ei(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){$t(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){$t(e,n,c)}else s.current=null}function Jg(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){$t(e,e.return,c)}}function Cf(e,n,s){try{var o=e.stateNode;I1(o,e.type,s,n),o[xe]=n}catch(c){$t(e,e.return,c)}}function $g(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function If(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||$g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Nf(e,n,s),e=e.sibling;e!==null;)Nf(e,n,s),e=e.sibling}function Hu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Hu(e,n,s),e=e.sibling;e!==null;)Hu(e,n,s),e=e.sibling}function Wg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Qe(n,o,s),n[be]=e,n[xe]=s}catch(f){$t(e,e.return,f)}}var Fi=!1,Ne=!1,Of=!1,ty=typeof WeakSet=="function"?WeakSet:Set,ke=null;function l1(e,n){if(e=e.containerInfo,$f=cc,e=fp(e),Ah(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,R=-1,k=0,G=0,K=e,P=null;e:for(;;){for(var j;K!==s||c!==0&&K.nodeType!==3||(E=p+c),K!==f||o!==0&&K.nodeType!==3||(R=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(j=K.firstChild)!==null;)P=K,K=j;for(;;){if(K===e)break e;if(P===s&&++k===c&&(E=p),P===f&&++G===o&&(R=p),(j=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=j}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Wf={focusedElem:e,selectionRange:s},cc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Mr(s.type,c);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){$t(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)nd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function ey(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(e,s),o&4&&Fo(5,s);break;case 1:if(Ki(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){$t(s,s.return,p)}else{var c=Mr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){$t(s,s.return,p)}}o&64&&Xg(s),o&512&&Qo(s,s.return);break;case 3:if(Ki(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Pp(e,n)}catch(p){$t(s,s.return,p)}}break;case 27:n===null&&o&4&&Wg(s);case 26:case 5:Ki(e,s),n===null&&o&4&&Jg(s),o&512&&Qo(s,s.return);break;case 12:Ki(e,s);break;case 31:Ki(e,s),o&4&&sy(e,s);break;case 13:Ki(e,s),o&4&&ry(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=y1.bind(null,s),L1(e,s))));break;case 22:if(o=s.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Ne,c=Fi;var f=Ne;Fi=o,(Ne=n)&&!f?Yi(e,s,(s.subtreeFlags&8772)!==0):Ki(e,s),Fi=c,Ne=f}break;case 30:break;default:Ki(e,s)}}function ny(e){var n=e.alternate;n!==null&&(e.alternate=null,ny(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,on=!1;function Qi(e,n,s){for(s=s.child;s!==null;)iy(e,n,s),s=s.sibling}function iy(e,n,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(zn,s)}catch{}switch(s.tag){case 26:Ne||Ei(s,n),Qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ne||Ei(s,n);var o=he,c=on;xs(s.type)&&(he=s.stateNode,on=!1),Qi(e,n,s),el(s.stateNode),he=o,on=c;break;case 5:Ne||Ei(s,n);case 6:if(o=he,c=on,he=null,Qi(e,n,s),he=o,on=c,he!==null)if(on)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{he.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:he!==null&&(on?(e=he,Xy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):Xy(he,s.stateNode));break;case 4:o=he,c=on,he=s.stateNode.containerInfo,on=!0,Qi(e,n,s),he=o,on=c;break;case 0:case 11:case 14:case 15:Is(2,s,n),Ne||Is(4,s,n),Qi(e,n,s);break;case 1:Ne||(Ei(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Zg(s,n,o)),Qi(e,n,s);break;case 21:Qi(e,n,s);break;case 22:Ne=(o=Ne)||s.memoizedState!==null,Qi(e,n,s),Ne=o;break;default:Qi(e,n,s)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){$t(n,n.return,s)}}}function ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){$t(n,n.return,s)}}function u1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ty),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ty),n;default:throw Error(a(435,e.tag))}}function Gu(e,n){var s=u1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=_1.bind(null,e,o);o.then(c,c)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){he=E.stateNode,on=!1;break t}break;case 5:he=E.stateNode,on=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(he===null)throw Error(a(160));iy(f,p,c),he=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ay(n,e),n=n.sibling}var Zn=null;function ay(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Is(3,e,e.return),Fo(3,e),Is(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Ne||s===null||Ei(s,s.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=Zn;if(ln(n,e),un(e),o&512&&(Ne||s===null||Ei(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ai]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Qe(f,o,s),f[be]=e,De(f),o=f;break t;case"link":var p=a_("link","href",c).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(o),Qe(f,o,s),c.head.appendChild(f);break;case"meta":if(p=a_("meta","content",c).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=c.createElement(o),Qe(f,o,s),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[be]=e,De(f),o=f}e.stateNode=o}else o_(c,e.type,e.stateNode);else e.stateNode=r_(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?o_(c,e.type,e.stateNode):r_(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Ne||s===null||Ei(s,s.return)),s!==null&&o&4&&Cf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Ne||s===null||Ei(s,s.return)),e.flags&32){c=e.stateNode;try{an(c,"")}catch(rt){$t(e,e.return,rt)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Cf(e,c,s!==null?s.memoizedProps:c)),o&1024&&(Of=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){$t(e,e.return,rt)}}break;case 3:if(ac=null,c=Zn,Zn=sc(n.containerInfo),ln(n,e),Zn=c,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(rt){$t(e,e.return,rt)}Of&&(Of=!1,oy(e));break;case 4:o=Zn,Zn=sc(e.stateNode.containerInfo),ln(n,e),un(e),Zn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Qu=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 22:c=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,k=Fi,G=Ne;if(Fi=k||c,Ne=G||R,ln(n,e),Ne=G,Fi=k,un(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||Fi||Ne||Vr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(rt){$t(R,R.return,rt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(rt){$t(R,R.return,rt)}}}else if(n.tag===18){if(s===null){R=n;try{var j=R.stateNode;c?Zy(j,!0):Zy(R.stateNode,!1)}catch(rt){$t(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Gu(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if($g(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=If(e);Hu(e,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(an(p,""),s.flags&=-33);var E=If(e);Hu(e,E,p);break;case 3:case 4:var R=s.stateNode.containerInfo,k=If(e);Nf(e,k,R);break;default:throw Error(a(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function oy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ey(e,n.alternate,n),n=n.sibling}function Vr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Is(4,n,n.return),Vr(n);break;case 1:Ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Zg(n,n.return,s),Vr(n);break;case 27:el(n.stateNode);case 26:case 5:Ei(n,n.return),Vr(n);break;case 22:n.memoizedState===null&&Vr(n);break;case 30:Vr(n);break;default:Vr(n)}e=e.sibling}}function Yi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(c,f,s),Fo(4,f);break;case 1:if(Yi(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){$t(o,o.return,k)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)kp(R[c],E)}catch(k){$t(o,o.return,k)}}s&&p&64&&Xg(f),Qo(f,f.return);break;case 27:Wg(f);case 26:case 5:Yi(c,f,s),s&&o===null&&p&4&&Jg(f),Qo(f,f.return);break;case 12:Yi(c,f,s);break;case 31:Yi(c,f,s),s&&p&4&&sy(c,f);break;case 13:Yi(c,f,s),s&&p&4&&ry(c,f);break;case 22:f.memoizedState===null&&Yi(c,f,s),Qo(f,f.return);break;case 30:break;default:Yi(c,f,s)}n=n.sibling}}function Mf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Mo(s))}function Vf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e))}function Jn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ly(e,n,s,o),n=n.sibling}function ly(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,s,o),c&2048&&Fo(9,n);break;case 1:Jn(e,n,s,o);break;case 3:Jn(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e)));break;case 12:if(c&2048){Jn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else Jn(e,n,s,o);break;case 31:Jn(e,n,s,o);break;case 13:Jn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,s,o):Ko(e,n):f._visibility&2?Jn(e,n,s,o):(f._visibility|=2,ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Mf(p,n);break;case 24:Jn(e,n,s,o),c&2048&&Vf(n.alternate,n);break;default:Jn(e,n,s,o)}}function ba(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,R=o,k=p.flags;switch(p.tag){case 0:case 11:case 15:ba(f,p,E,R,c),Fo(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?ba(f,p,E,R,c):Ko(f,p):(G._visibility|=2,ba(f,p,E,R,c)),c&&k&2048&&Mf(p.alternate,p);break;case 24:ba(f,p,E,R,c),c&&k&2048&&Vf(p.alternate,p);break;default:ba(f,p,E,R,c)}n=n.sibling}}function Ko(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Ko(s,o),c&2048&&Mf(o.alternate,o);break;case 24:Ko(s,o),c&2048&&Vf(o.alternate,o);break;default:Ko(s,o)}n=n.sibling}}var Yo=8192;function Da(e,n,s){if(e.subtreeFlags&Yo)for(e=e.child;e!==null;)uy(e,n,s),e=e.sibling}function uy(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&Yo&&e.memoizedState!==null&&X1(s,Zn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=Zn;Zn=sc(e.stateNode.containerInfo),Da(e,n,s),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Yo,Yo=16777216,Da(e,n,s),Yo=o):Da(e,n,s));break;default:Da(e,n,s)}}function cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,fy(o,e)}cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hy(e),e=e.sibling}function hy(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&Is(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Xo(e);break;default:Xo(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,fy(o,e)}cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Is(8,n,n.return),Fu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function fy(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Is(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var c=o.sibling,f=o.return;if(ny(o),o===s){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}var c1={getCacheForType:function(e){var n=Ge(Re),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ge(Re).controller.signal}},h1=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,It=null,Vt=0,Jt=0,vn=null,Ns=!1,wa=!1,Bf=!1,Xi=0,ge=0,Os=0,Br=0,Uf=0,En=0,Ra=0,Zo=null,cn=null,xf=!1,Qu=0,dy=0,Ku=1/0,Yu=null,Ms=null,Ve=0,Vs=null,Ca=null,Zi=0,Lf=0,kf=null,my=null,Jo=0,Pf=null;function Tn(){return(Yt&2)!==0&&Vt!==0?Vt&-Vt:q.T!==null?Ff():Xl()}function py(){if(En===0)if((Vt&536870912)===0||Pt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function hn(e,n,s){(e===re&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Bs(e,Vt,En,!1)),lr(e,s),((Yt&2)===0||e!==re)&&(e===re&&((Yt&2)===0&&(Br|=s),ge===4&&Bs(e,Vt,En,!1)),Ti(e))}function gy(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),c=o?m1(e,n):jf(e,n,!0),f=o;do{if(c===0){wa&&!o&&Bs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!f1(s)){c=jf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;c=Zo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,p).flags|=256),p=jf(E,p,!1),p!==2){if(Bf&&!R){E.errorRecoveryDisabledLanes|=f,Br|=f,c=4;break t}f=cn,cn=c,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Ia(e,0),Bs(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bs(o,n,En,!Ns);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Qu+300-en(),10<c)){if(Bs(o,n,En,!Ns),ii(o,0,!0)!==0)break t;Zi=n,o.timeoutHandle=Ky(yy.bind(null,o,s,cn,Yu,xf,n,En,Br,Ra,Ns,f,"Throttled",-0,0),c);break t}yy(o,s,cn,Yu,xf,n,En,Br,Ra,Ns,f,null,-0,0)}}break}while(!0);Ti(e)}function yy(e,n,s,o,c,f,p,E,R,k,G,K,P,j){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},uy(n,f,K);var rt=(f&62914560)===f?Qu-en():(f&4194048)===f?dy-en():0;if(rt=Z1(K,rt),rt!==null){Zi=f,e.cancelPendingCommit=rt(Dy.bind(null,e,n,f,s,o,c,p,E,R,G,K,null,P,j)),Bs(e,f,p,!k);return}}Dy(e,n,f,s,o,c,p,E,R)}function f1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!pn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(e,n,s,o){n&=~Uf,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-_e(c),p=1<<f;o[f]=-1,c&=~p}s!==0&&ur(e,s,n)}function Xu(){return(Yt&6)===0?($o(0),!1):!0}function zf(){if(It!==null){if(Jt===0)var e=It.return;else e=It,Pi=Dr=null,ef(e),va=null,Bo=0,e=It;for(;e!==null;)Yg(e.alternate,e),e=e.return;It=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,M1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Zi=0,zf(),re=e,It=s=Li(e.current,null),Vt=n,Jt=0,vn=null,Ns=!1,wa=jn(e,n),Bf=!1,Ra=En=Uf=Br=Os=ge=0,cn=Zo=null,xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-_e(o),f=1<<c;n|=e[c],o&=~f}return Xi=n,gu(),s}function _y(e,n){bt=null,q.H=qo,n===_a||n===bu?(n=Bp(),Jt=3):n===Hh?(n=Bp(),Jt=4):Jt=n===_f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(ge=1,ku(e,Nn(n,e.current)))}function vy(){var e=yn.current;return e===null?!0:(Vt&4194048)===Vt?Bn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Bn:!1}function Ey(){var e=q.H;return q.H=qo,e===null?qo:e}function Ty(){var e=q.A;return q.A=c1,e}function Zu(){ge=4,Ns||(Vt&4194048)!==Vt&&yn.current!==null||(wa=!0),(Os&134217727)===0&&(Br&134217727)===0||re===null||Bs(re,Vt,En,!1)}function jf(e,n,s){var o=Yt;Yt|=2;var c=Ey(),f=Ty();(re!==e||Vt!==n)&&(Yu=null,Ia(e,n)),n=!1;var p=ge;t:do try{if(Jt!==0&&It!==null){var E=It,R=vn;switch(Jt){case 8:zf(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var k=Jt;if(Jt=0,vn=null,Na(e,E,R,k),s&&wa){p=0;break t}break;default:k=Jt,Jt=0,vn=null,Na(e,E,R,k)}}d1(),p=ge;break}catch(G){_y(e,G)}while(!0);return n&&e.shellSuspendCounter++,Pi=Dr=null,Yt=o,q.H=c,q.A=f,It===null&&(re=null,Vt=0,gu()),p}function d1(){for(;It!==null;)Sy(It)}function m1(e,n){var s=Yt;Yt|=2;var o=Ey(),c=Ty();re!==e||Vt!==n?(Yu=null,Ku=en()+500,Ia(e,n)):wa=jn(e,n);t:do try{if(Jt!==0&&It!==null){n=It;var f=vn;e:switch(Jt){case 1:Jt=0,vn=null,Na(e,n,f,1);break;case 2:case 9:if(Mp(f)){Jt=0,vn=null,Ay(n);break}n=function(){Jt!==2&&Jt!==9||re!==e||(Jt=7),Ti(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Mp(f)?(Jt=0,vn=null,Ay(n)):(Jt=0,vn=null,Na(e,n,f,7));break;case 5:var p=null;switch(It.tag){case 26:p=It.memoizedState;case 5:case 27:var E=It;if(p?l_(p):E.stateNode.complete){Jt=0,vn=null;var R=E.sibling;if(R!==null)It=R;else{var k=E.return;k!==null?(It=k,Ju(k)):It=null}break e}}Jt=0,vn=null,Na(e,n,f,5);break;case 6:Jt=0,vn=null,Na(e,n,f,6);break;case 8:zf(),ge=6;break t;default:throw Error(a(462))}}p1();break}catch(G){_y(e,G)}while(!0);return Pi=Dr=null,q.H=o,q.A=c,Yt=s,It!==null?0:(re=null,Vt=0,gu(),ge)}function p1(){for(;It!==null&&!gh();)Sy(It)}function Sy(e){var n=Qg(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?Ju(e):It=n}function Ay(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=zg(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=zg(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:ef(n);default:Yg(s,n),n=It=Tp(n,Xi),n=Qg(s,n,Xi)}e.memoizedProps=e.pendingProps,n===null?Ju(e):It=n}function Na(e,n,s,o){Pi=Dr=null,ef(n),va=null,Bo=0;var c=n.return;try{if(i1(e,c,n,s,Vt)){ge=1,ku(e,Nn(s,e.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ge=1,ku(e,Nn(s,e.current)),It=null;return}n.flags&32768?(Pt||o===1?e=!0:wa||(Vt&536870912)!==0?e=!1:(Ns=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),by(n,e)):Ju(n)}function Ju(e){var n=e;do{if((n.flags&32768)!==0){by(n,Ns);return}e=n.return;var s=a1(n.alternate,n,Xi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ge===0&&(ge=5)}function by(e,n){do{var s=o1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ge=6,It=null}function Dy(e,n,s,o,c,f,p,E,R){e.cancelPendingCommit=null;do $u();while(Ve!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ch,vh(e,s,f,p,E,R),e===re&&(It=re=null,Vt=0),Ca=n,Vs=e,Zi=s,Lf=f,kf=c,my=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,v1(cs,function(){return Ny(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,c=nt.p,nt.p=2,p=Yt,Yt|=4;try{l1(e,n,s)}finally{Yt=p,nt.p=c,q.T=o}}Ve=1,wy(),Ry(),Cy()}}function wy(){if(Ve===1){Ve=0;var e=Vs,n=Ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=nt.p;nt.p=2;var c=Yt;Yt|=4;try{ay(n,e);var f=Wf,p=fp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&hp(E.ownerDocument.documentElement,E)){if(R!==null&&Ah(E)){var k=R.start,G=R.end;if(G===void 0&&(G=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var j=P.getSelection(),rt=E.textContent.length,mt=Math.min(R.start,rt),ne=R.end===void 0?mt:Math.min(R.end,rt);!j.extend&&mt>ne&&(p=ne,ne=mt,mt=p);var B=cp(E,mt),N=cp(E,ne);if(B&&N&&(j.rangeCount!==1||j.anchorNode!==B.node||j.anchorOffset!==B.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var L=K.createRange();L.setStart(B.node,B.offset),j.removeAllRanges(),mt>ne?(j.addRange(L),j.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),j.addRange(L))}}}}for(K=[],j=E;j=j.parentNode;)j.nodeType===1&&K.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}cc=!!$f,Wf=$f=null}finally{Yt=c,nt.p=o,q.T=s}}e.current=n,Ve=2}}function Ry(){if(Ve===2){Ve=0;var e=Vs,n=Ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=nt.p;nt.p=2;var c=Yt;Yt|=4;try{ey(e,n.alternate,n)}finally{Yt=c,nt.p=o,q.T=s}}Ve=3}}function Cy(){if(Ve===4||Ve===3){Ve=0,ql();var e=Vs,n=Ca,s=Zi,o=my;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Ca=Vs=null,Iy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ms=null),Vi(s),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,c=nt.p,nt.p=2,q.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{q.T=n,nt.p=c}}(Zi&3)!==0&&$u(),Ti(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Pf?Jo++:(Jo=0,Pf=e):Jo=0,$o(0)}}function Iy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Mo(n)))}function $u(){return wy(),Ry(),Cy(),Ny()}function Ny(){if(Ve!==5)return!1;var e=Vs,n=Lf;Lf=0;var s=Vi(Zi),o=q.T,c=nt.p;try{nt.p=32>s?32:s,q.T=null,s=kf,kf=null;var f=Vs,p=Zi;if(Ve=0,Ca=Vs=null,Zi=0,(Yt&6)!==0)throw Error(a(331));var E=Yt;if(Yt|=4,hy(f.current),ly(f,f.current,p,s),Yt=E,$o(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{nt.p=c,q.T=o,Iy(e,n)}}function Oy(e,n,s){n=Nn(s,n),n=yf(e.stateNode,n,2),e=ws(e,n,2),e!==null&&(lr(e,2),Ti(e))}function $t(e,n,s){if(e.tag===3)Oy(e,e,s);else for(;n!==null;){if(n.tag===3){Oy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ms===null||!Ms.has(o))){e=Nn(s,e),s=Mg(2),o=ws(n,s,2),o!==null&&(Vg(s,o,n,e),lr(o,2),Ti(o));break}}n=n.return}}function qf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new h1;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(Bf=!0,c.add(s),e=g1.bind(null,e,n,s),n.then(e,e))}function g1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,re===e&&(Vt&s)===s&&(ge===4||ge===3&&(Vt&62914560)===Vt&&300>en()-Qu?(Yt&2)===0&&Ia(e,0):Uf|=s,Ra===Vt&&(Ra=0)),Ti(e)}function My(e,n){n===0&&(n=Yl()),e=Sr(e,n),e!==null&&(lr(e,n),Ti(e))}function y1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),My(e,s)}function _1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),My(e,s)}function v1(e,n){return Mt(e,n)}var Wu=null,Oa=null,Hf=!1,tc=!1,Gf=!1,Us=0;function Ti(e){e!==Oa&&e.next===null&&(Oa===null?Wu=Oa=e:Oa=Oa.next=e),tc=!0,Hf||(Hf=!0,T1())}function $o(e,n){if(!Gf&&tc){Gf=!0;do for(var s=!1,o=Wu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,xy(o,f))}else f=Vt,f=ii(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(s=!0,xy(o,f));o=o.next}while(s);Gf=!1}}function E1(){Vy()}function Vy(){tc=Hf=!1;var e=0;Us!==0&&O1()&&(e=Us);for(var n=en(),s=null,o=Wu;o!==null;){var c=o.next,f=By(o,n);f===0?(o.next=null,s===null?Wu=c:s.next=c,c===null&&(Oa=s)):(s=o,(e!==0||(f&3)!==0)&&(tc=!0)),o=c}Ve!==0&&Ve!==5||$o(e),Us!==0&&(Us=0)}function By(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-_e(f),E=1<<p,R=c[p];R===-1?((E&s)===0||(E&o)!==0)&&(c[p]=_h(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,s=Vt,s=ii(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&us(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&us(o),Vi(s)){case 2:case 8:s=oo;break;case 32:s=cs;break;case 268435456:s=Hl;break;default:s=cs}return o=Uy.bind(null,e),s=Mt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&us(o),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if($u()&&e.callbackNode!==s)return null;var o=Vt;return o=ii(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(gy(e,o,n),By(e,en()),e.callbackNode!=null&&e.callbackNode===s?Uy.bind(null,e):null)}function xy(e,n){if($u())return null;gy(e,n,!0)}function T1(){V1(function(){(Yt&6)!==0?Mt(ao,E1):Vy()})}function Ff(){if(Us===0){var e=ga;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Us=e}return Us}function Ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function ky(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function S1(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=Ly((c[xe]||null).action),p=o.submitter;p&&(n=(n=p[xe]||null)?Ly(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new mi("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var R=p?ky(c,p):new FormData(c);hf(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?ky(c,p):new FormData(c),hf(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Qf=0;Qf<Rh.length;Qf++){var Kf=Rh[Qf],A1=Kf.toLowerCase(),b1=Kf[0].toUpperCase()+Kf.slice(1);Xn(A1,"on"+b1)}Xn(pp,"onAnimationEnd"),Xn(gp,"onAnimationIteration"),Xn(yp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(zT,"onTransitionRun"),Xn(jT,"onTransitionStart"),Xn(qT,"onTransitionCancel"),Xn(_p,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function Py(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){pu(G)}c.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){pu(G)}c.currentTarget=null,f=R}}}}function Nt(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var o=e+"__bubble";s.has(o)||(zy(n,e,2,!1),s.add(o))}function Yf(e,n,s){var o=0;n&&(o|=4),zy(s,e,o,n)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[ec]){e[ec]=!0,co.forEach(function(s){s!=="selectionchange"&&(D1.has(s)||Yf(s,!1,e),Yf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ec]||(n[ec]=!0,Yf("selectionchange",!1,n))}}function zy(e,n,s,o){switch(p_(n)){case 2:var c=W1;break;case 8:c=tS;break;default:c=cd}s=c.bind(null,n,s,e),c=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Zf(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=oi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}gs(function(){var k=f,G=wn(s),K=[];t:{var P=vp.get(e);if(P!==void 0){var j=mi,rt=e;switch(e){case"keypress":if(gr(s)===0)break t;case"keydown":case"keyup":j=fu;break;case"focusin":rt="focus",j=_r;break;case"focusout":rt="blur",j=_r;break;case"beforeblur":case"afterblur":j=_r;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case pp:case gp:case yp:j=ru;break;case _p:j=T;break;case"scroll":case"scrollend":j=Ao;break;case"wheel":j=z;break;case"copy":case"cut":case"paste":j=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=xi;break;case"toggle":case"beforetoggle":j=At}var mt=(n&4)!==0,ne=!mt&&(e==="scroll"||e==="scrollend"),B=mt?P!==null?P+"Capture":null:P;mt=[];for(var N=k,L;N!==null;){var F=N;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||B===null||(F=Fn(N,B),F!=null&&mt.push(tl(N,F,L))),ne)break;N=N.return}0<mt.length&&(P=new j(P,rt,null,s,G),K.push({event:P,listeners:mt}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",P&&s!==Eo&&(rt=s.relatedTarget||s.fromElement)&&(oi(rt)||rt[ri]))break t;if((j||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,j?(rt=s.relatedTarget||s.toElement,j=k,rt=rt?oi(rt):null,rt!==null&&(ne=h(rt),mt=rt.tag,rt!==ne||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(j=null,rt=k),j!==rt)){if(mt=bo,F="onMouseLeave",B="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=xi,F="onPointerLeave",B="onPointerEnter",N="pointer"),ne=j==null?P:dn(j),L=rt==null?P:dn(rt),P=new mt(F,N+"leave",j,s,G),P.target=ne,P.relatedTarget=L,F=null,oi(G)===k&&(mt=new mt(B,N+"enter",rt,s,G),mt.target=L,mt.relatedTarget=ne,F=mt),ne=F,j&&rt)e:{for(mt=w1,B=j,N=rt,L=0,F=B;F;F=mt(F))L++;F=0;for(var ct=N;ct;ct=mt(ct))F++;for(;0<L-F;)B=mt(B),L--;for(;0<F-L;)N=mt(N),F--;for(;L--;){if(B===N||N!==null&&B===N.alternate){mt=B;break e}B=mt(B),N=mt(N)}mt=null}else mt=null;j!==null&&jy(K,P,j,mt,!1),rt!==null&&ne!==null&&jy(K,ne,rt,mt,!0)}}t:{if(P=k?dn(k):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var Gt=sp;else if(np(P))if(rp)Gt=LT;else{Gt=UT;var at=BT}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?k&&ta(k.elementType)&&(Gt=sp):Gt=xT;if(Gt&&(Gt=Gt(e,k))){ip(K,Gt,s,G);break t}at&&at(e,P,k),e==="focusout"&&k&&P.type==="number"&&k.memoizedProps.value!=null&&yo(P,"number",P.value)}switch(at=k?dn(k):window,e){case"focusin":(np(at)||at.contentEditable==="true")&&(la=at,bh=k,Io=null);break;case"focusout":Io=bh=la=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,dp(K,s,G);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":dp(K,s,G)}var wt;if(Kt)t:{switch(e){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else oa?vr(e,s)&&(Bt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Bt="onCompositionStart");Bt&&(yi&&s.locale!=="ko"&&(oa||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&oa&&(wt=So()):(di=G,To="value"in di?di.value:di.textContent,oa=!0)),at=nc(k,Bt),0<at.length&&(Bt=new gi(Bt,e,null,s,G),K.push({event:Bt,listeners:at}),wt?Bt.data=wt:(wt=aa(s),wt!==null&&(Bt.data=wt)))),(wt=Cn?NT(e,s):OT(e,s))&&(Bt=nc(k,"onBeforeInput"),0<Bt.length&&(at=new gi("onBeforeInput","beforeinput",null,s,G),K.push({event:at,listeners:Bt}),at.data=wt)),S1(K,e,k,s,G)}Py(K,n)})}function tl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function nc(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Fn(e,s),c!=null&&o.unshift(tl(e,c,f)),c=Fn(e,n),c!=null&&o.push(tl(e,c,f))),e.tag===3)return o;e=e.return}return[]}function w1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jy(e,n,s,o,c){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,c?(k=Fn(s,f),k!=null&&p.unshift(tl(s,k,R))):c||(k=Fn(s,f),k!=null&&p.push(tl(s,k,R)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var R1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(R1,`
`).replace(C1,"")}function Hy(e,n){return n=qy(n),qy(e)===n}function ee(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":vo(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ee(e,n,"name",c.name,c,null),ee(e,n,"formEncType",c.formEncType,c,null),ee(e,n,"formMethod",c.formMethod,c,null),ee(e,n,"formTarget",c.formTarget,c,null)):(ee(e,n,"encType",c.encType,c,null),ee(e,n,"method",c.method,c,null),ee(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),$r(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$r(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=nu.get(s)||s,$r(e,s,o))}}function Jf(e,n,s,o,c,f){switch(s){case"style":vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):$r(e,s,o)}}}function Qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,f,p,s,null)}}c&&ee(e,n,"srcSet",s.srcSet,s,null),o&&ee(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=p=c=null,R=null,k=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":c=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":k=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ee(e,n,o,G,s,null)}}Wl(e,f,E,R,k,p,c,!1);return;case"select":Nt("invalid",e),o=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ee(e,n,c,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?fs(e,!!o,n,!1):s!=null&&fs(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=c=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ee(e,n,p,E,s,null)}ds(e,o,c,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ee(e,n,R,o,s,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)Nt(Wo[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,k,o,s,null)}return;default:if(ta(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&Jf(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ee(e,n,E,o,s,null))}function I1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,R=null,k=null,G=null;for(j in s){var K=s[j];if(s.hasOwnProperty(j)&&K!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(j)||ee(e,n,j,null,o,K)}}for(var P in o){var j=o[P];if(K=s[P],o.hasOwnProperty(P)&&(j!=null||K!=null))switch(P){case"type":f=j;break;case"name":c=j;break;case"checked":k=j;break;case"defaultChecked":G=j;break;case"value":p=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==K&&ee(e,n,P,j,o,K)}}Wr(e,p,E,R,k,G,f,c);return;case"select":j=p=E=P=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,R)}for(c in o)if(f=o[c],R=s[c],o.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&ee(e,n,c,f,o,R)}n=E,s=p,o=j,P!=null?fs(e,!!s,P,!1):!!o!=!!s&&(n!=null?fs(e,!!s,n,!0):fs(e,!!s,s?[]:"",!1));return;case"textarea":j=P=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(e,n,E,null,o,c)}for(p in o)if(c=o[p],f=s[p],o.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":P=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&ee(e,n,p,c,o,f)}tu(e,P,j);return;case"option":for(var rt in s)if(P=s[rt],s.hasOwnProperty(rt)&&P!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:ee(e,n,rt,null,o,P)}for(R in o)if(P=o[R],j=s[R],o.hasOwnProperty(R)&&P!==j&&(P!=null||j!=null))switch(R){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:ee(e,n,R,P,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)P=s[mt],s.hasOwnProperty(mt)&&P!=null&&!o.hasOwnProperty(mt)&&ee(e,n,mt,null,o,P);for(k in o)if(P=o[k],j=s[k],o.hasOwnProperty(k)&&P!==j&&(P!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:ee(e,n,k,P,o,j)}return;default:if(ta(n)){for(var ne in s)P=s[ne],s.hasOwnProperty(ne)&&P!==void 0&&!o.hasOwnProperty(ne)&&Jf(e,n,ne,void 0,o,P);for(G in o)P=o[G],j=s[G],!o.hasOwnProperty(G)||P===j||P===void 0&&j===void 0||Jf(e,n,G,P,o,j);return}}for(var B in s)P=s[B],s.hasOwnProperty(B)&&P!=null&&!o.hasOwnProperty(B)&&ee(e,n,B,null,o,P);for(K in o)P=o[K],j=s[K],!o.hasOwnProperty(K)||P===j||P==null&&j==null||ee(e,n,K,P,o,j)}function Gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,p=c.initiatorType,E=c.duration;if(f&&E&&Gy(p)){for(p=0,E=c.responseEnd,o+=1;o<s.length;o++){var R=s[o],k=R.startTime;if(k>E)break;var G=R.transferSize,K=R.initiatorType;G&&Gy(K)&&(R=R.responseEnd,p+=G*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $f=null,Wf=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ed=null;function O1(){var e=window.event;return e&&e.type==="popstate"?e===ed?!1:(ed=e,!0):(ed=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(e){return Yy.resolve(null).then(e).catch(B1)}:Ky;function B1(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function Xy(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Ua(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")el(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,el(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&el(e.ownerDocument.body);s=c}while(s);Ua(n)}function Zy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function nd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":nd(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function U1(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function x1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Un(e.nextSibling),e===null))return null;return e}function Jy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$?"||e.data==="$~"}function sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function L1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var rd=null;function $y(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Un(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Wy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function t_(e,n,s){switch(n=ic(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function el(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var xn=new Map,e_=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=nt.d;nt.d={f:k1,r:P1,D:z1,C:j1,L:q1,m:H1,X:F1,S:G1,M:Q1};function k1(){var e=Ji.f(),n=Xu();return e||n}function P1(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?_g(n):Ji.r(e)}var Ma=typeof document>"u"?null:document;function n_(e,n,s){var o=Ma;if(o&&typeof n=="string"&&n){var c=rn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),e_.has(c)||(e_.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Qe(n,"link",e),De(n),o.head.appendChild(n)))}}function z1(e){Ji.D(e),n_("dns-prefetch",e,null)}function j1(e,n){Ji.C(e,n),n_("preconnect",e,n)}function q1(e,n,s){Ji.L(e,n,s);var o=Ma;if(o&&e&&n){var c='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+rn(s.imageSizes)+'"]')):c+='[href="'+rn(e)+'"]';var f=c;switch(n){case"style":f=Va(e);break;case"script":f=Ba(e)}xn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),xn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(nl(f))||n==="script"&&o.querySelector(il(f))||(n=o.createElement("link"),Qe(n,"link",e),De(n),o.head.appendChild(n)))}}function H1(e,n){Ji.m(e,n);var s=Ma;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!xn.has(f)&&(e=b({rel:"modulepreload",href:e},n),xn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(il(f)))return}o=s.createElement("link"),Qe(o,"link",e),De(o),s.head.appendChild(o)}}}function G1(e,n,s){Ji.S(e,n,s);var o=Ma;if(o&&e){var c=li(o).hoistableStyles,f=Va(e);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(nl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=xn.get(f))&&ad(e,s);var R=p=o.createElement("link");De(R),Qe(R,"link",e),R._p=new Promise(function(k,G){R.onload=k,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function F1(e,n){Ji.X(e,n);var s=Ma;if(s&&e){var o=li(s).hoistableScripts,c=Ba(e),f=o.get(c);f||(f=s.querySelector(il(c)),f||(e=b({src:e,async:!0},n),(n=xn.get(c))&&od(e,n),f=s.createElement("script"),De(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Q1(e,n){Ji.M(e,n);var s=Ma;if(s&&e){var o=li(s).hoistableScripts,c=Ba(e),f=o.get(c);f||(f=s.querySelector(il(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=xn.get(c))&&od(e,n),f=s.createElement("script"),De(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function i_(e,n,s,o){var c=(c=vt.current)?sc(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=li(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=li(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(nl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(e,s),f||K1(c,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(s),s=li(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+rn(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function K1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",s),De(n),e.head.appendChild(n))}function Ba(e){return'[src="'+rn(e)+'"]'}function il(e){return"script[async]"+e}function r_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,De(o),o;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),De(o),Qe(o,"style",c),rc(o,s.precedence,e),n.instance=o;case"stylesheet":c=Va(s.href);var f=e.querySelector(nl(c));if(f)return n.state.loading|=4,n.instance=f,De(f),f;o=s_(s),(c=xn.get(c))&&ad(o,c),f=(e.ownerDocument||e).createElement("link"),De(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Qe(f,"link",o),n.state.loading|=4,rc(f,s.precedence,e),n.instance=f;case"script":return f=Ba(s.src),(c=e.querySelector(il(f)))?(n.instance=c,De(c),c):(o=s,(c=xn.get(f))&&(o=b({},s),od(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),De(c),Qe(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rc(o,s.precedence,e));return n.instance}function rc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function a_(e,n,s){if(ac===null){var o=new Map,c=ac=new Map;c.set(s,o)}else c=ac,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ai]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function o_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Y1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function l_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function X1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Va(o.href),f=n.querySelector(nl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=oc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,De(f);return}f=n.ownerDocument||n,o=s_(o),(c=xn.get(c))&&ad(o,c),f=f.createElement("link"),De(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Qe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=oc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ld=0;function Z1(e,n){return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ld===0&&(ld=62500*N1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ld?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function uc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(J1,e),lc=null,oc.call(e))}function J1(e,n){if(!(n.state.loading&4)){var s=lc.get(e);if(s)var o=s.get(null);else{s=new Map,lc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,c),s.set(p,c),this.count++,o=oc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var sl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function $1(e,n,s,o,c,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function u_(e,n,s,o,c,f,p,E,R,k,G,K){return e=new $1(e,n,s,p,R,k,G,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Gh(f),e}function c_(e){return e?(e=ha,e):ha}function h_(e,n,s,o,c,f){c=c_(c),o.context===null?o.context=c:o.pendingContext=c,o=Ds(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ws(e,o,n),s!==null&&(hn(s,e,n),xo(s,e,n))}function f_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function ud(e,n){f_(e,n),(e=e.alternate)&&f_(e,n)}function d_(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&hn(n,e,67108864),ud(e,67108864)}}function m_(e){if(e.tag===13||e.tag===31){var n=Tn();n=cr(n);var s=Sr(e,n);s!==null&&hn(s,e,n),ud(e,n)}}var cc=!0;function W1(e,n,s,o){var c=q.T;q.T=null;var f=nt.p;try{nt.p=2,cd(e,n,s,o)}finally{nt.p=f,q.T=c}}function tS(e,n,s,o){var c=q.T;q.T=null;var f=nt.p;try{nt.p=8,cd(e,n,s,o)}finally{nt.p=f,q.T=c}}function cd(e,n,s,o){if(cc){var c=hd(o);if(c===null)Zf(e,n,o,hc,s),g_(e,o);else if(nS(c,e,n,s,o))o.stopPropagation();else if(g_(e,o),n&4&&-1<eS.indexOf(e)){for(;c!==null;){var f=Dn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ni(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-_e(p);E.entanglements[1]|=R,p&=~R}Ti(f),(Yt&6)===0&&(Ku=en()+500,$o(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&hn(E,f,2),Xu(),ud(f,2)}if(f=hd(o),f===null&&Zf(e,n,o,hc,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else Zf(e,n,o,null,s)}}function hd(e){return e=wn(e),fd(e)}var hc=null;function fd(e){if(hc=null,e=oi(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return hc=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case ao:return 2;case oo:return 8;case cs:case yh:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var dd=!1,Ls=null,ks=null,Ps=null,rl=new Map,al=new Map,zs=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(e,n){switch(e){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function ol(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Dn(n),n!==null&&d_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function nS(e,n,s,o,c){switch(n){case"focusin":return Ls=ol(Ls,e,n,s,o,c),!0;case"dragenter":return ks=ol(ks,e,n,s,o,c),!0;case"mouseover":return Ps=ol(Ps,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return rl.set(f,ol(rl.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,al.set(f,ol(al.get(f)||null,e,n,s,o,c)),!0}return!1}function y_(e){var n=oi(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,qn(e.priority,function(){m_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,qn(e.priority,function(){m_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=hd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Eo=o,s.target.dispatchEvent(o),Eo=null}else return n=Dn(s),n!==null&&d_(n),e.blockedOn=s,!1;n.shift()}return!0}function __(e,n,s){fc(e)&&s.delete(n)}function iS(){dd=!1,Ls!==null&&fc(Ls)&&(Ls=null),ks!==null&&fc(ks)&&(ks=null),Ps!==null&&fc(Ps)&&(Ps=null),rl.forEach(__),al.forEach(__)}function dc(e,n){e.blockedOn===n&&(e.blockedOn=null,dd||(dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iS)))}var mc=null;function v_(e){mc!==e&&(mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mc===e&&(mc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(fd(o||s)===null)continue;break}var f=Dn(s);f!==null&&(e.splice(n,3),n-=3,hf(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Ua(e){function n(R){return dc(R,e)}Ls!==null&&dc(Ls,e),ks!==null&&dc(ks,e),Ps!==null&&dc(Ps,e),rl.forEach(n),al.forEach(n);for(var s=0;s<zs.length;s++){var o=zs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zs.length&&(s=zs[0],s.blockedOn===null);)y_(s),s.blockedOn===null&&zs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],p=c[xe]||null;if(typeof f=="function")p||v_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[xe]||null)E=p.formAction;else if(fd(c)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),v_(s)}}}function E_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function md(e){this._internalRoot=e}pc.prototype.render=md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();h_(s,o,e,n,null,null)},pc.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;h_(e.current,2,null,e,null,null),Xu(),n[ri]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<zs.length&&n!==0&&n<zs[s].priority;s++);zs.splice(s,0,e),s===0&&y_(e)}};var T_=t.version;if(T_!=="19.2.0")throw Error(a(527,T_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var sS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{zn=gc.inject(sS),je=gc}catch{}}return ul.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",c=Cg,f=Ig,p=Ng;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=u_(e,1,!1,null,null,s,o,null,c,f,p,E_),e[ri]=n.current,Xf(e),new md(n)},ul.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,c="",f=Cg,p=Ig,E=Ng,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=u_(e,1,!0,n,s??null,o,c,R,f,p,E,E_),n.context=c_(null),s=n.current,o=Tn(),o=cr(o),c=Ds(o),c.callback=null,ws(s,c,o),s=o,n.current.lanes=s,lr(n,s),Ti(n),e[ri]=n.current,Xf(e),new pc(n)},ul.version="19.2.0",ul}var O_;function vS(){if(O_)return yd.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),yd.exports=_S(),yd.exports}var ES=vS();const TS=s0(ES),SS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(1)-WFquXuLS.wav",AS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(10)-BtLuTgnU.wav",bS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(11)-G98cuJMV.wav",DS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(12)-CyL5AeD5.wav",wS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(13)-Dpk0DTEm.wav",RS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(14)-uf3rK0_v.wav",CS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(15)-DLOKodlH.wav",IS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(16)-CTfMsxyY.wav",NS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(17)-Bhs0rHB3.wav",OS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(18)-BWDzH536.wav",MS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(19)-4gpIdqB4.wav",VS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(2)-DeNIImXI.wav",BS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(20)-zOIK7cfE.wav",US="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(3)-CB41mnt7.wav",xS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(4)-DEDibiv0.wav",LS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(5)-E7F5oGAj.wav",kS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(6)-DEUCsT_8.wav",PS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(7)-dde2snc6.wav",zS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(8)-ElE28IyK.wav",jS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)(9)-B5T1ump8.wav",qS="/melplay/assets/%D0%91%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%B1%D0%B5%D0%BC%20%D0%BC%D0%B5%D0%BB%D1%81%D1%82%D1%80%D0%BE%D0%B9%20-%20%D0%BC%D0%B5%D0%BC%20(online-audio-converter%20(mp3cut.net)-DX10o12T.wav",HS=()=>{};var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},GS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[i++],d=r[i++],g=r[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],d=l+1<r.length,g=d?r[l+1]:0,v=l+2<r.length,_=v?r[l+2]:0,S=h>>2,b=(h&3)<<4|g>>4;let V=(g&15)<<2|_>>6,H=_&63;v||(H=64,d||(V=64)),a.push(i[S],i[b],i[V],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(r0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):GS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,h==null||g==null||_==null||b==null)throw new FS;const V=h<<2|g>>4;if(a.push(V),_!==64){const H=g<<4&240|_>>2;if(a.push(H),b!==64){const X=_<<6&192|b;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QS=function(r){const t=r0(r);return a0.encodeByteArray(t,!0)},Uc=function(r){return QS(r).replace(/\./g,"")},o0=function(r){try{return a0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=()=>KS().__FIREBASE_DEFAULTS__,XS=()=>{if(typeof process>"u"||typeof M_>"u")return;const r=M_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&o0(r[1]);return t&&JSON.parse(t)},th=()=>{try{return HS()||YS()||XS()||ZS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l0=r=>th()?.emulatorHosts?.[r],JS=r=>{const t=l0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},u0=()=>th()?.config,c0=r=>th()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const ml={};function tA(){const r={prod:[],emulator:[]};for(const t of Object.keys(ml))ml[t]?r.emulator.push(t):r.prod.push(t);return r}function eA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let V_=!1;function f0(r,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||ml[r]===t||ml[r]||V_)return;ml[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=tA().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{V_=!0,d()},V}function S(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=eA(a),H=i("text"),X=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),ht=i("preprendIcon"),ft=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const pt=V.element;g(pt),S(J,W);const qt=_();v(ft,ht),pt.append(ft,X,J,qt),document.body.appendChild(pt)}h?(X.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function iA(){const r=th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oA(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lA(){return!iA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uA(){try{return typeof indexedDB=="object"}catch{return!1}}function cA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="FirebaseError";class as extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=hA,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?fA(h,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new as(l,g,a)}}function fA(r,t){return r.replace(dA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const dA=/\{\$([^}]+)}/g;function mA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=r[l],d=t[l];if(B_(h)&&B_(d)){if(!zr(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function pA(r,t){const i=new gA(r,t);return i.subscribe.bind(i)}class gA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");yA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Td),l.error===void 0&&(l.error=Td),l.complete===void 0&&(l.complete=Td);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(r){return r&&r._delegate?r._delegate:r}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new $S;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EA(t))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xr){return this.instances.has(t)}getOptions(t=xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=xr){return this.component?this.component.multipleInstances?t:xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(r){return r===xr?void 0:r}function EA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _A(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const SA={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},AA=Ut.INFO,bA={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},DA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=bA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=AA,this._logHandler=DA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const wA=(r,t)=>t.some(i=>r instanceof i);let U_,x_;function RA(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CA(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,kd=new WeakMap,m0=new WeakMap,Sd=new WeakMap,hm=new WeakMap;function IA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ks(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&d0.set(i,r)}).catch(()=>{}),hm.set(t,r),t}function NA(r){if(kd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});kd.set(r,t)}let Pd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||m0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function OA(r){Pd=r(Pd)}function MA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ad(this),t,...i);return m0.set(a,t.sort?t.sort():[t]),Ks(a)}:CA().includes(r)?function(...t){return r.apply(Ad(this),t),Ks(d0.get(this))}:function(...t){return Ks(r.apply(Ad(this),t))}}function VA(r){return typeof r=="function"?MA(r):(r instanceof IDBTransaction&&NA(r),wA(r,RA())?new Proxy(r,Pd):r)}function Ks(r){if(r instanceof IDBRequest)return IA(r);if(Sd.has(r))return Sd.get(r);const t=VA(r);return t!==r&&(Sd.set(r,t),hm.set(t,r)),t}const Ad=r=>hm.get(r);function BA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(r,t),g=Ks(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Ks(d.result),v.oldVersion,v.newVersion,Ks(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const UA=["get","getKey","getAll","getAllKeys","count"],xA=["put","add","delete","clear"],bd=new Map;function L_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(bd.get(t))return bd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=xA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||UA.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&v.done]))[0]};return bd.set(t,h),h}OA(r=>({...r,get:(t,i,a)=>L_(t,i)||r.get(t,i,a),has:(t,i)=>!!L_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function kA(r){return r.getComponent()?.type==="VERSION"}const zd="@firebase/app",k_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new cm("@firebase/app"),PA="@firebase/app-compat",zA="@firebase/analytics-compat",jA="@firebase/analytics",qA="@firebase/app-check-compat",HA="@firebase/app-check",GA="@firebase/auth",FA="@firebase/auth-compat",QA="@firebase/database",KA="@firebase/data-connect",YA="@firebase/database-compat",XA="@firebase/functions",ZA="@firebase/functions-compat",JA="@firebase/installations",$A="@firebase/installations-compat",WA="@firebase/messaging",tb="@firebase/messaging-compat",eb="@firebase/performance",nb="@firebase/performance-compat",ib="@firebase/remote-config",sb="@firebase/remote-config-compat",rb="@firebase/storage",ab="@firebase/storage-compat",ob="@firebase/firestore",lb="@firebase/ai",ub="@firebase/firestore-compat",cb="firebase",hb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",fb={[zd]:"fire-core",[PA]:"fire-core-compat",[jA]:"fire-analytics",[zA]:"fire-analytics-compat",[HA]:"fire-app-check",[qA]:"fire-app-check-compat",[GA]:"fire-auth",[FA]:"fire-auth-compat",[QA]:"fire-rtdb",[KA]:"fire-data-connect",[YA]:"fire-rtdb-compat",[XA]:"fire-fn",[ZA]:"fire-fn-compat",[JA]:"fire-iid",[$A]:"fire-iid-compat",[WA]:"fire-fcm",[tb]:"fire-fcm-compat",[eb]:"fire-perf",[nb]:"fire-perf-compat",[ib]:"fire-rc",[sb]:"fire-rc-compat",[rb]:"fire-gcs",[ab]:"fire-gcs-compat",[ob]:"fire-fst",[ub]:"fire-fst-compat",[lb]:"fire-vertex","fire-js":"fire-js",[cb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,db=new Map,qd=new Map;function P_(r,t){try{r.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ga(r){const t=r.name;if(qd.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,r);for(const i of xc.values())P_(i,r);for(const i of db.values())P_(i,r);return!0}function fm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Ln(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Ml("app","Firebase",mb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=hb;function p0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ys.create("bad-app-name",{appName:String(l)});if(i||(i=u0()),!i)throw Ys.create("no-options");const h=xc.get(l);if(h){if(zr(i,h.options)&&zr(a,h.config))return h;throw Ys.create("duplicate-app",{appName:l})}const d=new TA(l);for(const v of qd.values())d.addComponent(v);const g=new pb(i,a,d);return xc.set(l,g),g}function g0(r=jd){const t=xc.get(r);if(!t&&r===jd&&u0())return p0();if(!t)throw Ys.create("no-app",{appName:r});return t}function Xs(r,t,i){let a=fb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}Ga(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="firebase-heartbeat-database",yb=1,Tl="firebase-heartbeat-store";let Dd=null;function y0(){return Dd||(Dd=BA(gb,yb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Tl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ys.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function _b(r){try{const i=(await y0()).transaction(Tl),a=await i.objectStore(Tl).get(_0(r));return await i.done,a}catch(t){if(t instanceof as)ns.warn(t.message);else{const i=Ys.create("idb-get",{originalErrorMessage:t?.message});ns.warn(i.message)}}}async function z_(r,t){try{const a=(await y0()).transaction(Tl,"readwrite");await a.objectStore(Tl).put(t,_0(r)),await a.done}catch(i){if(i instanceof as)ns.warn(i.message);else{const a=Ys.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function _0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=1024,Eb=30;class Tb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ab(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=j_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Eb){const l=bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j_(),{heartbeatsToSend:i,unsentEntries:a}=Sb(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function j_(){return new Date().toISOString().substring(0,10)}function Sb(r,t=vb){const i=[];let a=r.slice();for(const l of r){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),q_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Ab{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uA()?cA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _b(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function q_(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}function bb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r){Ga(new jr("platform-logger",t=>new LA(t),"PRIVATE")),Ga(new jr("heartbeat",t=>new Tb(t),"PRIVATE")),Xs(zd,k_,r),Xs(zd,k_,"esm2020"),Xs("fire-js","")}Db("");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,v0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,A){function w(){}w.prototype=A.prototype,C.F=A.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(M,I,U){for(var D=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)D[zt-2]=arguments[zt];return A.prototype[I].apply(M,D)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,w){w||(w=0);const M=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)M[I]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(I=0;I<16;++I)M[I]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=C.g[0],w=C.g[1],I=C.g[2];let U=C.g[3],D;D=A+(U^w&(I^U))+M[0]+3614090360&4294967295,A=w+(D<<7&4294967295|D>>>25),D=U+(I^A&(w^I))+M[1]+3905402710&4294967295,U=A+(D<<12&4294967295|D>>>20),D=I+(w^U&(A^w))+M[2]+606105819&4294967295,I=U+(D<<17&4294967295|D>>>15),D=w+(A^I&(U^A))+M[3]+3250441966&4294967295,w=I+(D<<22&4294967295|D>>>10),D=A+(U^w&(I^U))+M[4]+4118548399&4294967295,A=w+(D<<7&4294967295|D>>>25),D=U+(I^A&(w^I))+M[5]+1200080426&4294967295,U=A+(D<<12&4294967295|D>>>20),D=I+(w^U&(A^w))+M[6]+2821735955&4294967295,I=U+(D<<17&4294967295|D>>>15),D=w+(A^I&(U^A))+M[7]+4249261313&4294967295,w=I+(D<<22&4294967295|D>>>10),D=A+(U^w&(I^U))+M[8]+1770035416&4294967295,A=w+(D<<7&4294967295|D>>>25),D=U+(I^A&(w^I))+M[9]+2336552879&4294967295,U=A+(D<<12&4294967295|D>>>20),D=I+(w^U&(A^w))+M[10]+4294925233&4294967295,I=U+(D<<17&4294967295|D>>>15),D=w+(A^I&(U^A))+M[11]+2304563134&4294967295,w=I+(D<<22&4294967295|D>>>10),D=A+(U^w&(I^U))+M[12]+1804603682&4294967295,A=w+(D<<7&4294967295|D>>>25),D=U+(I^A&(w^I))+M[13]+4254626195&4294967295,U=A+(D<<12&4294967295|D>>>20),D=I+(w^U&(A^w))+M[14]+2792965006&4294967295,I=U+(D<<17&4294967295|D>>>15),D=w+(A^I&(U^A))+M[15]+1236535329&4294967295,w=I+(D<<22&4294967295|D>>>10),D=A+(I^U&(w^I))+M[1]+4129170786&4294967295,A=w+(D<<5&4294967295|D>>>27),D=U+(w^I&(A^w))+M[6]+3225465664&4294967295,U=A+(D<<9&4294967295|D>>>23),D=I+(A^w&(U^A))+M[11]+643717713&4294967295,I=U+(D<<14&4294967295|D>>>18),D=w+(U^A&(I^U))+M[0]+3921069994&4294967295,w=I+(D<<20&4294967295|D>>>12),D=A+(I^U&(w^I))+M[5]+3593408605&4294967295,A=w+(D<<5&4294967295|D>>>27),D=U+(w^I&(A^w))+M[10]+38016083&4294967295,U=A+(D<<9&4294967295|D>>>23),D=I+(A^w&(U^A))+M[15]+3634488961&4294967295,I=U+(D<<14&4294967295|D>>>18),D=w+(U^A&(I^U))+M[4]+3889429448&4294967295,w=I+(D<<20&4294967295|D>>>12),D=A+(I^U&(w^I))+M[9]+568446438&4294967295,A=w+(D<<5&4294967295|D>>>27),D=U+(w^I&(A^w))+M[14]+3275163606&4294967295,U=A+(D<<9&4294967295|D>>>23),D=I+(A^w&(U^A))+M[3]+4107603335&4294967295,I=U+(D<<14&4294967295|D>>>18),D=w+(U^A&(I^U))+M[8]+1163531501&4294967295,w=I+(D<<20&4294967295|D>>>12),D=A+(I^U&(w^I))+M[13]+2850285829&4294967295,A=w+(D<<5&4294967295|D>>>27),D=U+(w^I&(A^w))+M[2]+4243563512&4294967295,U=A+(D<<9&4294967295|D>>>23),D=I+(A^w&(U^A))+M[7]+1735328473&4294967295,I=U+(D<<14&4294967295|D>>>18),D=w+(U^A&(I^U))+M[12]+2368359562&4294967295,w=I+(D<<20&4294967295|D>>>12),D=A+(w^I^U)+M[5]+4294588738&4294967295,A=w+(D<<4&4294967295|D>>>28),D=U+(A^w^I)+M[8]+2272392833&4294967295,U=A+(D<<11&4294967295|D>>>21),D=I+(U^A^w)+M[11]+1839030562&4294967295,I=U+(D<<16&4294967295|D>>>16),D=w+(I^U^A)+M[14]+4259657740&4294967295,w=I+(D<<23&4294967295|D>>>9),D=A+(w^I^U)+M[1]+2763975236&4294967295,A=w+(D<<4&4294967295|D>>>28),D=U+(A^w^I)+M[4]+1272893353&4294967295,U=A+(D<<11&4294967295|D>>>21),D=I+(U^A^w)+M[7]+4139469664&4294967295,I=U+(D<<16&4294967295|D>>>16),D=w+(I^U^A)+M[10]+3200236656&4294967295,w=I+(D<<23&4294967295|D>>>9),D=A+(w^I^U)+M[13]+681279174&4294967295,A=w+(D<<4&4294967295|D>>>28),D=U+(A^w^I)+M[0]+3936430074&4294967295,U=A+(D<<11&4294967295|D>>>21),D=I+(U^A^w)+M[3]+3572445317&4294967295,I=U+(D<<16&4294967295|D>>>16),D=w+(I^U^A)+M[6]+76029189&4294967295,w=I+(D<<23&4294967295|D>>>9),D=A+(w^I^U)+M[9]+3654602809&4294967295,A=w+(D<<4&4294967295|D>>>28),D=U+(A^w^I)+M[12]+3873151461&4294967295,U=A+(D<<11&4294967295|D>>>21),D=I+(U^A^w)+M[15]+530742520&4294967295,I=U+(D<<16&4294967295|D>>>16),D=w+(I^U^A)+M[2]+3299628645&4294967295,w=I+(D<<23&4294967295|D>>>9),D=A+(I^(w|~U))+M[0]+4096336452&4294967295,A=w+(D<<6&4294967295|D>>>26),D=U+(w^(A|~I))+M[7]+1126891415&4294967295,U=A+(D<<10&4294967295|D>>>22),D=I+(A^(U|~w))+M[14]+2878612391&4294967295,I=U+(D<<15&4294967295|D>>>17),D=w+(U^(I|~A))+M[5]+4237533241&4294967295,w=I+(D<<21&4294967295|D>>>11),D=A+(I^(w|~U))+M[12]+1700485571&4294967295,A=w+(D<<6&4294967295|D>>>26),D=U+(w^(A|~I))+M[3]+2399980690&4294967295,U=A+(D<<10&4294967295|D>>>22),D=I+(A^(U|~w))+M[10]+4293915773&4294967295,I=U+(D<<15&4294967295|D>>>17),D=w+(U^(I|~A))+M[1]+2240044497&4294967295,w=I+(D<<21&4294967295|D>>>11),D=A+(I^(w|~U))+M[8]+1873313359&4294967295,A=w+(D<<6&4294967295|D>>>26),D=U+(w^(A|~I))+M[15]+4264355552&4294967295,U=A+(D<<10&4294967295|D>>>22),D=I+(A^(U|~w))+M[6]+2734768916&4294967295,I=U+(D<<15&4294967295|D>>>17),D=w+(U^(I|~A))+M[13]+1309151649&4294967295,w=I+(D<<21&4294967295|D>>>11),D=A+(I^(w|~U))+M[4]+4149444226&4294967295,A=w+(D<<6&4294967295|D>>>26),D=U+(w^(A|~I))+M[11]+3174756917&4294967295,U=A+(D<<10&4294967295|D>>>22),D=I+(A^(U|~w))+M[2]+718787259&4294967295,I=U+(D<<15&4294967295|D>>>17),D=w+(U^(I|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const w=A-this.blockSize,M=this.C;let I=this.h,U=0;for(;U<A;){if(I==0)for(;U<=w;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(M[I++]=C.charCodeAt(U++),I==this.blockSize){l(this,M),I=0;break}}else for(;U<A;)if(M[I++]=C[U++],I==this.blockSize){l(this,M),I=0;break}}this.h=I,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)C[A++]=this.g[w]>>>M&255;return C};function h(C,A){var w=g;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=A(C)}function d(C,A){this.h=A;const w=[];let M=!0;for(let I=C.length-1;I>=0;I--){const U=C[I]|0;M&&U==A||(w[I]=U,M=!1)}this.g=w}var g={};function v(C){return-128<=C&&C<128?h(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return J(_(-C));const A=[];let w=1;for(let M=0;C>=w;M++)A[M]=C/w|0,w*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return J(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(A,8));let M=b;for(let U=0;U<C.length;U+=8){var I=Math.min(8,C.length-U);const D=parseInt(C.substring(U,U+I),A);I<8?(I=_(Math.pow(A,I)),M=M.j(I).add(_(D))):(M=M.j(w),M=M.add(_(D)))}return M}var b=v(0),V=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();let C=0,A=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(W(this))return"-"+J(this).toString(C);const A=_(Math.pow(C,6));var w=this;let M="";for(;;){const I=qt(w,A).g;w=ht(w,I.j(A));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=I,X(w))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function W(C){return C.h==-1}r.l=function(C){return C=ht(this,C),W(C)?-1:X(C)?0:1};function J(C){const A=C.g.length,w=[];for(let M=0;M<A;M++)w[M]=~C.g[M];return new d(w,~C.h).add(V)}r.abs=function(){return W(this)?J(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),w=[];let M=0;for(let I=0;I<=A;I++){let U=M+(this.i(I)&65535)+(C.i(I)&65535),D=(U>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);M=D>>>16,U&=65535,D&=65535,w[I]=D<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ht(C,A){return C.add(J(A))}r.j=function(C){if(X(this)||X(C))return b;if(W(this))return W(C)?J(this).j(J(C)):J(J(this).j(C));if(W(C))return J(this.j(J(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,w=[];for(var M=0;M<2*A;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<C.g.length;I++){const U=this.i(M)>>>16,D=this.i(M)&65535,zt=C.i(I)>>>16,me=C.i(I)&65535;w[2*M+2*I]+=D*me,ft(w,2*M+2*I),w[2*M+2*I+1]+=U*me,ft(w,2*M+2*I+1),w[2*M+2*I+1]+=D*zt,ft(w,2*M+2*I+1),w[2*M+2*I+2]+=U*zt,ft(w,2*M+2*I+2)}for(C=0;C<A;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=A;C<2*A;C++)w[C]=0;return new d(w,0)};function ft(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function pt(C,A){this.g=C,this.h=A}function qt(C,A){if(X(A))throw Error("division by zero");if(X(C))return new pt(b,b);if(W(C))return A=qt(J(C),A),new pt(J(A.g),J(A.h));if(W(A))return A=qt(C,J(A)),new pt(J(A.g),A.h);if(C.g.length>30){if(W(C)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var w=V,M=A;M.l(C)<=0;)w=ie(w),M=ie(M);var I=Ct(w,1),U=Ct(M,1);for(M=Ct(M,2),w=Ct(w,2);!X(M);){var D=U.add(M);D.l(C)<=0&&(I=I.add(w),U=D),M=Ct(M,1),w=Ct(w,1)}return A=ht(C,I.j(A)),new pt(I,A)}for(I=b;C.l(A)>=0;){for(w=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(w),D=U.j(A);W(D)||D.l(C)>0;)w-=M,U=_(w),D=U.j(A);X(U)&&(U=V),I=I.add(U),C=ht(C,D)}return new pt(I,C)}r.B=function(C){return qt(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)&C.i(M);return new d(w,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)|C.i(M);return new d(w,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)^C.i(M);return new d(w,this.h^C.h)};function ie(C){const A=C.g.length+1,w=[];for(let M=0;M<A;M++)w[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(w,C.h)}function Ct(C,A){const w=A>>5;A%=32;const M=C.g.length-w,I=[];for(let U=0;U<M;U++)I[U]=A>0?C.i(U+w)>>>A|C.i(U+w+1)<<32-A:C.i(U+w);return new d(I,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,v0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Zs=d}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E0,cl,T0,bc,Hd,S0,A0,b0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in y))break t;y=y[x]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,x,z){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[x].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function X(u,m){for(let T=1;T<arguments.length;T++){const x=arguments[T];var y=typeof x;if(y=y!="object"?y:x?Array.isArray(x)?"array":y:"null",y=="array"||y=="object"&&typeof x.length=="number"){y=u.length||0;const z=x.length||0;u.length=y+z;for(let tt=0;tt<z;tt++)u[y+tt]=x[tt]}else u.push(x)}}class W{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,y){const T=pt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new W(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Ct=!1,C=new ft,A=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(w)}};function w(){for(var u;u=ht();){try{u.h.call(u.g)}catch(y){J(y)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function D(u){return/^[\s\xa0]*$/.test(u)}function zt(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(zt,I),zt.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),q=0;function nt(u,m,y,T,x){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=x,this.key=++q,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Qt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let y,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(y in T)u[y]=T[y];for(let z=0;z<Q.length;z++)y=Q[z],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,y,T,x){const z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);const tt=vt(u,m,T,x);return tt>-1?(m=u[tt],y||(m.fa=!1)):(m=new nt(m,this.src,z,!!T,x),m.fa=y,u.push(m)),m};function gt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],x=Array.prototype.indexOf.call(T,m,void 0),z;(z=x>=0)&&Array.prototype.splice.call(T,x,1),z&&(ot(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function vt(u,m,y,T){for(let x=0;x<u.length;++x){const z=u[x];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==T)return x}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),ye={};function se(u,m,y,T,x){if(Array.isArray(m)){for(let z=0;z<m.length;z++)se(u,m[z],y,T,x);return null}return y=ae(y),u&&u[me]?u.J(m,y,g(T)?!!T.capture:!1,x):Oi(u,m,y,!1,T,x)}function Oi(u,m,y,T,x,z){if(!m)throw Error("Invalid event type");const tt=g(x)?!!x.capture:!!x;let At=lt(u);if(At||(u[Ot]=At=new it(u)),y=At.add(m,y,T,tt,z),y.proxy)return y;if(T=os(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)U||(x=tt),x===void 0&&(x=!1),u.addEventListener(m.toString(),T,x);else if(u.attachEvent)u.attachEvent(An(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function os(){function u(y){return m.call(u.src,u.listener,y)}const m=rr;return u}function Mi(u,m,y,T,x){if(Array.isArray(m))for(var z=0;z<m.length;z++)Mi(u,m[z],y,T,x);else T=g(T)?!!T.capture:!!T,y=ae(y),u&&u[me]?(u=u.i,z=String(m).toString(),z in u.g&&(m=u.g[z],y=vt(m,y,T,x),y>-1&&(ot(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[z],u.h--)))):u&&(u=lt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vt(m,y,T,x)),(y=u>-1?m[u]:null)&&ls(y))}function ls(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])gt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(An(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=lt(m))?(gt(y,u),y.h==0&&(y.src=null,m[Ot]=null)):ot(u)}}}function An(u){return u in ye?ye[u]:ye[u]="on"+u}function rr(u,m){if(u.da)u=!0;else{m=new zt(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&ls(u),u=y.call(T,m)}return u}function lt(u){return u=u[Ot],u instanceof it?u:null}var kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ae(u){return typeof u=="function"?u:(u[kt]||(u[kt]=function(m){return u.handleEvent(m)}),u[kt])}function Ht(){M.call(this),this.i=new it(this),this.M=this,this.G=null}b(Ht,M),Ht.prototype[me]=!0,Ht.prototype.removeEventListener=function(u,m,y,T){Mi(this,u,m,y,T)};function Mt(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var x=m;m=new I(T,u),et(m,x)}x=!0;let z,tt;if(y)for(tt=y.length-1;tt>=0;tt--)z=m.g=y[tt],x=us(z,T,!0,m)&&x;if(z=m.g=u,x=us(z,T,!0,m)&&x,x=us(z,T,!1,m)&&x,y)for(tt=0;tt<y.length;tt++)z=m.g=y[tt],x=us(z,T,!1,m)&&x}Ht.prototype.N=function(){if(Ht.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ot(y[T]);delete u.g[m],u.h--}}this.G=null},Ht.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},Ht.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function us(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let x=!0;for(let z=0;z<m.length;++z){const tt=m[z];if(tt&&!tt.da&&tt.capture==y){const At=tt.listener,ve=tt.ha||tt.src;tt.fa&&gt(u.i,tt),x=At.call(ve,T)!==!1&&x}}return x&&!T.defaultPrevented}function gh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ql(u){u.g=gh(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends M{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){M.call(this),this.h=u,this.g={}}b(ar,M);var ao=[];function oo(u){Rt(u.g,function(m,y){this.g.hasOwnProperty(y)&&ls(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),oo(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,yh=d.JSON.parse,Hl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Gl(){}function Fl(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){I.call(this,"d")}b(je,I);function bn(){I.call(this,"c")}b(bn,I);var _e={},Ql=null;function Xr(){return Ql=Ql||new Ht}_e.Ia="serverreachability";function Kl(u){I.call(this,_e.Ia,u)}b(Kl,I);function ei(u){const m=Xr();Mt(m,new Kl(m))}_e.STAT_EVENT="statevent";function or(u,m){I.call(this,_e.STAT_EVENT,u),this.stat=m}b(or,I);function Ae(u){const m=Xr();Mt(m,new or(m,u))}_e.Ja="timingevent";function ni(u,m){I.call(this,_e.Ja,u),this.size=m}b(ni,I);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function _h(u,m,y,T,x,z){u.info(function(){if(u.g)if(z){var tt="",At=z.split("&");for(let Kt=0;Kt<At.length;Kt++){var ve=At[Kt].split("=");if(ve.length>1){const ce=ve[0];ve=ve[1];const Cn=ce.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(ce+"="+ve+"&"):tt+(ce+"=redacted&")}}}else tt=null;else tt=z;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+y+`
`+tt})}function Yl(u,m,y,T,x,z,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+y+`
`+z+" "+tt})}function si(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+vh(u,y)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function vh(u,m){if(!u.g)return m;if(!m)return null;try{const z=JSON.parse(m);if(z){for(u=0;u<z.length;u++)if(Array.isArray(z[u])){var y=z[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var x=T[0];if(x!="noop"&&x!="stop"&&x!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return cs(z)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},uo;function cr(){}b(cr,Gl),cr.prototype.g=function(){return new XMLHttpRequest},uo=new cr;function Vi(u){return encodeURIComponent(String(u))}function Xl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function qn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var be={},xe={};function ri(u,m,y){u.M=1,u.A=hr(we(m)),u.u=y,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ai(u),u.B=we(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Hn,u.g=cu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new en(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var x="readystatechange";Array.isArray(x)||(x&&(ao[0]=x.toString()),x=ao);for(let z=0;z<x.length;z++){const tt=se(y,x[z],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),_h(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Qn(this.g),ve=this.g.ya(),Kt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||At!=4||ve==7||(ve==8||Kt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var y=Eh(this);if(this.o=m==200,Yl(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,x=this.g;if((T=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(T)){var z=T;break e}}z=null}if(u=z)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,Ae(12),dn(this),Dn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<y.length;)if(ce=Jl(this,y),ce==xe){At==4&&(this.m=4,Ae(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==be){this.m=4,Ae(15),si(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,ce,null),li(this,ce);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||y.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,y,"[Invalid Chunked Response]"),dn(this),Dn(this);else if(y.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Do(tt),tt.P=!0,Ae(11))}}else si(this.i,this.l,y,null),li(this,y);At==4&&dn(this),this.o&&!this.K&&(At==4?au(this.j,this):(this.o=!1,ai(this)))}else Ui(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),dn(this),Dn(this)}}}catch{}finally{}};function Eh(u){if(!Zl(u))return u.g.la();const m=qe(u.g);if(m==="")return"";let y="";const T=m.length,x=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let z=0;z<T;z++)u.h.h=!0,y+=u.h.i.decode(m[z],{stream:!(x&&z==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Zl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Jl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?xe:(y=Number(m.substring(y,T)),isNaN(y)?be:(T+=1,T+y>m.length?xe:(m=m.slice(T,T+y),u.C=T+y,m)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(_(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&(ei(),Ae(17)),dn(this),this.m=2,Dn(this)):Jr(this,this.T-u)};function Dn(u){u.j.I==0||u.K||au(u.j,u)}function dn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,oo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ci(y.h,u))){if(!u.L&&ci(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ra(y),_s(y);else break t;_r(y),Ae(18)}}else y.xa=x[1],0<y.xa-y.K&&x[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ii(_(y.Va,y),6e3));ui(y.h)<=1&&y.ta&&(y.ta=void 0)}else gi(y,11)}else if((u.L||y.g==u)&&ra(y),!D(m))for(x=y.Ba.g.parse(m),m=0;m<x.length;m++){let Kt=x[m];const ce=Kt[0];if(!(ce<=y.K))if(y.K=ce,Kt=Kt[1],y.I==2)if(Kt[0]=="c"){y.M=Kt[1],y.ba=Kt[2];const Cn=Kt[3];Cn!=null&&(y.ka=Cn,y.j.info("VER="+y.ka));const yi=Kt[4];yi!=null&&(y.za=yi,y.j.info("SVER="+y.za));const Kn=Kt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(T=1.5*Kn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Yn=u.g;if(Yn){const vr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var z=T.h;z.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(fo(z,z.h),z.h=null))}if(T.G){const aa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Zt(T.J,T.G,aa))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var tt=u;if(T.na=uu(T,T.L?T.ba:null,T.W),tt.L){mo(T.h,tt);var At=tt,ve=T.O;ve&&(At.H=ve),At.D&&(oi(At),ai(At)),T.g=tt}else su(T);y.i.length>0&&pi(y)}else Kt[0]!="stop"&&Kt[0]!="close"||gi(y,7);else y.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?gi(y,7):Ao(y):Kt[0]!="noop"&&y.l&&y.l.qa(Kt),y.A=0)}}ei(4)}catch{}}var De=class{constructor(u,m){this.g=u,this.map=m}};function co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fo(u,m){u.g?u.g.add(m):u.h=m}function mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}co.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function po(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return H(u.i)}var $l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let x,z=null;T>=0?(x=u[y].substring(0,T),z=u[y].substring(T+1)):x=u[y],m(x,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.u),this.h=u.h,go(this,nu(u.i)),this.m=u.m):u&&(m=String(u).match($l))?(this.l=!1,Le(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),hs(this,m[4]),this.h=hi(m[5]||"",!0),go(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,Wr,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,Wr,!0),"@"),u.push(Vi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(fr(y,y.charAt(0)=="/"?yo:Wl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",fr(y,tu)),u.join("")},mn.prototype.resolve=function(u){const m=we(this);let y=!!u.j;y?Le(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)hs(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var x=m.h.lastIndexOf("/");x!=-1&&(T=m.h.slice(0,x+1)+T)}if(x=T,x==".."||x==".")T="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){T=x.lastIndexOf("/",0)==0,x=x.split("/");const z=[];for(let tt=0;tt<x.length;){const At=x[tt++];At=="."?T&&tt==x.length&&z.push(""):At==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),T&&tt==x.length&&z.push("")):(z.push(At),T=!0)}T=z.join("/")}else T=x}return y?m.h=T:y=u.i.toString()!=="",y?go(m,nu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function we(u){return new mn(u)}function Le(u,m,y){u.j=y?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function go(u,m,y){m instanceof ds?(u.i=m,ea(u.i,u.l)):(y||(m=fr(m,fs)),u.i=new ds(m,u.l))}function Zt(u,m,y){u.i.set(m,y)}function hr(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wr=/[#\/\?@]/g,Wl=/[#\?:]/g,yo=/[#\?]/g,fs=/[#\?@]/g,tu=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&$r(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=ds.prototype,r.add=function(u,m){an(this),this.i=null,u=ms(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function eu(u,m){an(u),m=ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _o(u,m){return an(u),m=ms(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(y,T){y.forEach(function(x){u.call(m,x,T,this)},this)},this)};function vo(u,m){an(u);let y=[];if(typeof m=="string")_o(u,m)&&(y=y.concat(u.g.get(ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return an(this),this.i=null,u=ms(this,u),_o(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=vo(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,y){eu(u,m),y.length>0&&(u.i=null,u.g.set(ms(u,m),H(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const x=Vi(y);y=vo(this,y);for(let z=0;z<y.length;z++){let tt=x;y[z]!==""&&(tt+="="+Vi(y[z])),u.push(tt)}}return this.i=u.join("&")};function nu(u){const m=new ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(y,T){const x=T.toLowerCase();T!=x&&(eu(this,T),ta(this,x,y))},u)),u.j=m}function Gn(u,m){const y=new jn;if(d.Image){const T=new Image;T.onload=S(wn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=S(wn,y,"TestLoadImage: error",!1,m,T),T.onabort=S(wn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(wn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Eo(u,m){const y=new jn,T=new AbortController,x=setTimeout(()=>{T.abort(),wn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(z=>{clearTimeout(x),z.ok?wn(y,"TestPingServer: ok",!0,m):wn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),wn(y,"TestPingServer: error",!1,m)})}function wn(u,m,y,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(y)}catch{}}function ps(){this.g=new Hl}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(fi,Gl),fi.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){Ht.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(dr,Ht),r=dr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gs(this):Fn(this),this.readyState==3&&na(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,gs(this))},r.Na=function(u){this.g&&(this.response=u,gs(this))},r.ga=function(){this.g&&gs(this)};function gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Rt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function mr(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Rn(y),typeof u=="string"?y!=null&&Vi(y):Zt(u,m,y))}function Wt(u){Ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Wt,Ht);var di=/^https?$/i,To=["POST","PUT"];r=Wt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():uo.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){pr(this,z);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)y.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const z of T.keys())y.set(z,T.get(z));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),x=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(To,m,void 0)>=0)||T||x||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,tt]of y)this.g.setRequestHeader(z,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(z){pr(this,z)}};function pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,So(u),Bi(u)}function So(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},r.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof h<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const z=u.ca();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=z===0){let tt=String(u.D).match($l)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!di.test(tt?tt.toLowerCase():"")}y=T}if(y)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var x=Qn(u)>2?u.g.statusText:""}catch{x=""}u.l=x+" ["+u.ca()+"]",So(u)}}finally{Bi(u)}}}}function Bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Mt(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),yh(m)}};function qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(D(u[T]))continue;var y=Xl(u[T]);const x=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[x]||[];m[x]=z,z.push(y)}Qt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ys(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new co(u&&u.concurrentRequestLimit),this.Ba=new ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ys.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){Ae(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=uu(this,null,this.W),pi(this)};function Ao(u){if(ia(u),u.I==3){var m=u.V++,y=we(u.J);if(Zt(y,"SID",u.M),Zt(y,"RID",m),Zt(y,"TYPE","terminate"),yr(u,y),m=new qn(u,u.j,m),m.M=2,m.A=hr(we(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}lu(u)}function _s(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ia(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!ho(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||A(),Ct||(ie(),Ct=!0),C.add(m,u),u.D=0}}function sa(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(_(u.Ea,u,m),ou(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const x=new qn(this,this.j,u);let z=this.o;if(this.U&&(z?(z=O(z),et(z,this.U)):z=this.U),this.u!==null||this.R||(x.J=z,z=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=iu(this,x,m),y=we(this.J),Zt(y,"RID",u),Zt(y,"CVER",22),this.G&&Zt(y,"X-HTTP-Session-Id",this.G),yr(this,y),z&&(this.R?m="headers="+Vi(Rn(z))+"&"+m:this.u&&mr(y,this.u,z)),fo(this.h,x),this.Ra&&Zt(y,"TYPE","init"),this.S?(Zt(y,"$req",m),Zt(y,"SID","null"),x.U=!0,ri(x,y,null)):ri(x,y,m),this.I=2}}else this.I==3&&(u?bo(this,u):this.i.length==0||ho(this.h)||bo(this))};function bo(u,m){var y;m?y=m.l:y=u.V++;const T=we(u.J);Zt(T,"SID",u.M),Zt(T,"RID",y),Zt(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),y=new qn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=iu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),fo(u.h,y),ri(y,T,m)}function yr(u,m){u.H&&Rt(u.H,function(y,T){Zt(m,T,y)}),u.l&&Rt({},function(y,T){Zt(m,T,y)})}function iu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var x=u.i;let At=-1;for(;;){const ve=["count="+y];At==-1?y>0?(At=x[0].g,ve.push("ofs="+At)):At=0:ve.push("ofs="+At);let Kt=!0;for(let ce=0;ce<y;ce++){var z=x[ce].g;const Cn=x[ce].map;if(z-=At,z<0)At=Math.max(0,x[ce].g-100),Kt=!1;else try{z="req"+z+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Kn]of tt){let Yn=Kn;g(Kn)&&(Yn=cs(Kn)),ve.push(z+yi+"="+encodeURIComponent(Yn))}}catch(yi){throw ve.push(z+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(Cn)}}if(Kt){tt=ve.join("&");break t}}tt=void 0}return u=u.i.splice(0,y),m.G=u,tt}function su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||A(),Ct||(ie(),Ct=!0),C.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(_(u.Da,u),ou(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),_s(this),ru(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ru(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=we(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=hr(we(m)),y.u=null,y.R=!0,Zr(y,u)}r.Va=function(){this.C!=null&&(this.C=null,_s(this),_r(this),Ae(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function au(u,m){var y=null;if(u.g==m){ra(u),Do(u),u.g=null;var T=2}else if(ci(u.h,m))y=m.G,mo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var x=u.D;T=Xr(),Mt(T,new ni(T,y)),pi(u)}else su(u);else if(x=m.m,x==3||x==0&&m.X>0||!(T==1&&sa(u,m)||T==2&&_r(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),x){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function ou(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const x=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),hr(T),x?Gn(T.toString(),y):Eo(T.toString(),y)}else Ae(2);u.I=0,u.l&&u.l.pa(m),lu(u),ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function lu(u){if(u.I=0,u.ja=[],u.l){const m=po(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function uu(u,m,y){var T=y instanceof mn?we(y):new mn(y);if(T.g!="")m&&(T.g=m+"."+T.g),hs(T,T.u);else{var x=d.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;const z=new mn(null);T&&Le(z,T),m&&(z.g=m),x&&hs(z,x),y&&(z.h=y),T=z}return y=u.G,m=u.wa,y&&m&&Zt(T,y,m),Zt(T,"VER",u.ka),yr(u,T),T}function cu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new fi({ab:y})):new Wt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}r=hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vs(){}vs.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Ht.call(this),this.g=new ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!D(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!D(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xi(this)}b(nn,Ht),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ao(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=cs(u),u=y);m.i.push(new De(m.Ya++,u)),m.I==3&&pi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,nn.Z.N.call(this)};function fu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(fu,je);function du(){bn.call(this),this.status=1}b(du,bn);function xi(u){this.g=u}b(xi,hu),xi.prototype.ra=function(){Mt(this.g,"a")},xi.prototype.qa=function(u){Mt(this.g,new fu(u))},xi.prototype.pa=function(u){Mt(this.g,new du)},xi.prototype.oa=function(){Mt(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,b0=function(){return new vs},A0=function(){return Xr()},S0=_e,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,bc=ur,lo.COMPLETE="complete",T0=lo,Fl.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.J,cl=Fl,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,E0=Wt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",F_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new cm("@firebase/firestore");function xa(){return qr.logLevel}function st(r,...t){if(qr.logLevel<=Ut.DEBUG){const i=t.map(dm);qr.debug(`Firestore (${to}): ${r}`,...i)}}function is(r,...t){if(qr.logLevel<=Ut.ERROR){const i=t.map(dm);qr.error(`Firestore (${to}): ${r}`,...i)}}function Fa(r,...t){if(qr.logLevel<=Ut.WARN){const i=t.map(dm);qr.warn(`Firestore (${to}): ${r}`,...i)}}function dm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,D0(r,a,i)}function D0(r,t,i){let a=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw is(a),new Error(a)}function Xt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||D0(t,l,a)}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class Rb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Cb{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Js,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Js)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new w0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Ib{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Ib(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ob{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Q_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Mb(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function xt(r,t){return r<t?-1:r>t?1:0}function Gd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return wd(l)===wd(h)?xt(l,h):wd(l)?1:-1}return xt(r.length,t.length)}const Vb=55296,Bb=57343;function wd(r){const t=r.charCodeAt(0);return t>=Vb&&t<=Bb}function Qa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=Si.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return xt(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),l=Si.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):Gd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class fe extends Si{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const Ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Si{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return Ub.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new Ye([K_])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(h(),l++)}if(h(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(fe.fromString(t))}static fromName(t){return new dt(fe.fromString(t).popFirst(5))}static empty(){return new dt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(r,t,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Lb(r,t,i,a){if(t===!0&&a===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Y_(r){if(!dt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function R0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Sl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pm(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r,t){const i={typeString:r};return t&&(i.value=t),i}function Bl(r,t){if(!R0(r))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,Z_=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Z_);return new ue(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<X_)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Me("string",ue._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ue(0,0))}static max(){return new Et(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function kb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new Ws(l,dt.empty(),t)}function Pb(r){return new Ws(r.readTime,r.key,Al)}class Ws{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ws(Et.min(),dt.empty(),Al)}static max(){return new Ws(Et.max(),dt.empty(),Al)}}function zb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==jb)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let l=0,h=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++h,d&&h===l&&i()}),(v=>a(v)))})),d=!0,h===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((l=>l?Y.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,l)=>{const h=t.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((S=>{d[_]=S,++g,g===h&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Y(((a,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):a()};h()}))}}function Hb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function no(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-1;function nh(r){return r==null}function Lc(r){return r===0&&1/r==-1/0}function Gb(r){return typeof r=="number"&&Number.isInteger(r)&&!Lc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="";function Fb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=J_(t)),t=Qb(r.get(i),t);return J_(t)}function Qb(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":i+="";break;case C0:i+="";break;default:i+=h}}return i}function J_(r){return r+C0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Fr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function I0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??Ke.RED,this.left=l??Ke.EMPTY,this.right=h??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new Ke(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(t){return new W_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class W_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Ue(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new N0("Invalid base64 string: "+h):h}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const Kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const i=Kb.exec(r);if(Xt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Se(r.seconds),nanos:Se(r.nanos)}}function Se(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function er(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="server_timestamp",M0="__type__",V0="__previous_value__",B0="__local_write_time__";function ym(r){return(r?.mapValue?.fields||{})[M0]?.stringValue===O0}function ih(r){const t=r.mapValue.fields[V0];return ym(t)?ih(t):t}function bl(r){const t=tr(r.mapValue.fields[B0].timestampValue);return new ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,i,a,l,h,d,g,v,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const kc="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||kc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===kc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__type__",Xb="__max__",vc={mapValue:{}},x0="__vector__",Pc="value";function nr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ym(r)?4:Jb(r)?9007199254740991:Zb(r)?10:11:yt(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=nr(r);if(i!==nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return bl(r).isEqual(bl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=tr(l.timestampValue),g=tr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return er(l.bytesValue).isEqual(er(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return Se(l.geoPointValue.latitude)===Se(h.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return Se(l.integerValue)===Se(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Se(l.doubleValue),g=Se(h.doubleValue);return d===g?Lc(d)===Lc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Qa(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if($_(d)!==$_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ci(d[v],g[v])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function wl(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function Ka(r,t){if(r===t)return 0;const i=nr(r),a=nr(t);if(i!==a)return xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(h,d){const g=Se(h.integerValue||h.doubleValue),v=Se(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return tv(r.timestampValue,t.timestampValue);case 4:return tv(bl(r),bl(t));case 5:return Gd(r.stringValue,t.stringValue);case 6:return(function(h,d){const g=er(h),v=er(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const S=xt(g[_],v[_]);if(S!==0)return S}return xt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,d){const g=xt(Se(h.latitude),Se(d.latitude));return g!==0?g:xt(Se(h.longitude),Se(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return ev(r.arrayValue,t.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[Pc]?.arrayValue,S=v[Pc]?.arrayValue,b=xt(_?.values?.length||0,S?.values?.length||0);return b!==0?b:ev(_,S)})(r.mapValue,t.mapValue);case 11:return(function(h,d){if(h===vc.mapValue&&d===vc.mapValue)return 0;if(h===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const V=Gd(v[b],S[b]);if(V!==0)return V;const H=Ka(g[v[b]],_[S[b]]);if(H!==0)return H}return xt(v.length,S.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function tv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const i=tr(r),a=tr(t),l=xt(i.seconds,a.seconds);return l!==0?l:xt(i.nanos,a.nanos)}function ev(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Ka(i[l],a[l]);if(h)return h}return xt(i.length,a.length)}function Ya(r){return Fd(r)}function Fd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=tr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return er(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Fd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${Fd(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Dc(r){switch(nr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ih(r);return t?16+Dc(t):16;case 5:return 2*r.stringValue.length;case 6:return er(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+Dc(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Fr(a.fields,((h,d)=>{l+=h.length+Dc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function Qd(r){return!!r&&"integerValue"in r}function _m(r){return!!r&&"arrayValue"in r}function nv(r){return!!r&&"nullValue"in r}function iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wc(r){return!!r&&"mapValue"in r}function Zb(r){return(r?.mapValue?.fields||{})[U0]?.stringValue===x0}function pl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Fr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=pl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pl(r.arrayValue.values[i]);return t}return{...r}}function Jb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pl(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=pl(d):l.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Fr(i,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new kn(pl(this.value))}}function L0(r){const t=[];return Fr(r.fields,((i,a)=>{const l=new Ye([i]);if(wc(a)){const h=L0(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new $n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,i,a,l,h,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new We(t,0,Et.min(),Et.min(),Et.min(),kn.empty(),0)}static newFoundDocument(t,i,a,l){return new We(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new We(t,2,i,Et.min(),Et.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,Et.min(),Et.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i){this.position=t,this.inclusive=i}}function sv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],d=r.position[l];if(h.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Ka(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function rv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function $b(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{}class Be extends k0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new tD(t,i,a):i==="array-contains"?new iD(t,a):i==="in"?new sD(t,a):i==="not-in"?new rD(t,a):i==="array-contains-any"?new aD(t,a):new Be(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new eD(t,a):new nD(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends k0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return P0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P0(r){return r.op==="and"}function z0(r){return Wb(r)&&P0(r)}function Wb(r){for(const t of r.filters)if(t instanceof Ii)return!1;return!0}function Kd(r){if(r instanceof Be)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(z0(r))return r.filters.map((t=>Kd(t))).join(",");{const t=r.filters.map((i=>Kd(i))).join(",");return`${r.op}(${t})`}}function j0(r,t){return r instanceof Be?(function(a,l){return l instanceof Be&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(r,t):r instanceof Ii?(function(a,l){return l instanceof Ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,g)=>h&&j0(d,l.filters[g])),!0):!1})(r,t):void yt(19439)}function q0(r){return r instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(r):r instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(q0).join(" ,")+"}"})(r):"Filter"}class tD extends Be{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class eD extends Be{constructor(t,i){super(t,"in",i),this.keys=H0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class nD extends Be{constructor(t,i){super(t,"not-in",i),this.keys=H0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function H0(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class iD extends Be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return _m(i)&&wl(i.arrayValue,this.value)}}class sD extends Be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wl(this.value.arrayValue,i)}}class rD extends Be{constructor(t,i){super(t,"not-in",i)}matches(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wl(this.value.arrayValue,i)}}class aD extends Be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!_m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>wl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,i=null,a=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function av(r,t=null,i=[],a=[],l=null,h=null,d=null){return new oD(r,t,i,a,l,h,d)}function vm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Kd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),nh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ya(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ya(a))).join(",")),t.Te=i}return t.Te}function Em(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!$b(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!j0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!rv(r.startAt,t.startAt)&&rv(r.endAt,t.endAt)}function Yd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,i=null,a=[],l=[],h=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lD(r,t,i,a,l,h,d,g){return new sh(r,t,i,a,l,h,d,g)}function Tm(r){return new sh(r)}function ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uD(r){return r.collectionGroup!==null}function gl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ue(Ye.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new jc(h,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new jc(Ye.keyField(),a))}return t.Ie}function Ai(r){const t=St(r);return t.Ee||(t.Ee=cD(t,gl(r))),t.Ee}function cD(r,t){if(r.limitType==="F")return av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new jc(l.field,h)}));const i=r.endAt?new zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new zc(r.startAt.position,r.startAt.inclusive):null;return av(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Xd(r,t,i){return new sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function rh(r,t){return Em(Ai(r),Ai(t))&&r.limitType===t.limitType}function G0(r){return`${vm(Ai(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>q0(l))).join(", ")}]`),nh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${a})`})(Ai(r))}; limitType=${r.limitType})`}function ah(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):dt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of gl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const _=sv(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,gl(a),l)||a.endAt&&!(function(d,g,v){const _=sv(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,gl(a),l))})(r,t)}function hD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function F0(r){return(t,i)=>{let a=!1;for(const l of gl(r)){const h=fD(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function fD(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Ka(v,_):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,((i,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return I0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new de(dt.comparator);function ss(){return dD}const Q0=new de(dt.comparator);function hl(...r){let t=Q0;for(const i of r)t=t.insert(i.key,i);return t}function K0(r){let t=Q0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Lr(){return yl()}function Y0(){return yl()}function yl(){return new Qr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const mD=new de(dt.comparator),pD=new Ue(dt.comparator);function Lt(...r){let t=pD;for(const i of r)t=t.add(i);return t}const gD=new Ue(xt);function yD(){return gD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(t)?"-0":t}}function X0(r){return{integerValue:""+r}}function _D(r,t){return Gb(t)?X0(t):Sm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function vD(r,t,i){return r instanceof Rl?(function(l,h){const d={fields:{[M0]:{stringValue:O0},[B0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&ym(h)&&(h=ih(h)),h&&(d.fields[V0]=h),{mapValue:d}})(i,t):r instanceof Cl?J0(r,t):r instanceof Il?$0(r,t):(function(l,h){const d=Z0(l,h),g=lv(d)+lv(l.Ae);return Qd(d)&&Qd(l.Ae)?X0(g):Sm(l.serializer,g)})(r,t)}function ED(r,t,i){return r instanceof Cl?J0(r,t):r instanceof Il?$0(r,t):i}function Z0(r,t){return r instanceof qc?(function(a){return Qd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Rl extends oh{}class Cl extends oh{constructor(t){super(),this.elements=t}}function J0(r,t){const i=W0(t);for(const a of r.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Il extends oh{constructor(t){super(),this.elements=t}}function $0(r,t){let i=W0(t);for(const a of r.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class qc extends oh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function lv(r){return Se(r.integerValue||r.doubleValue)}function W0(r){return _m(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,i){this.field=t,this.transform=i}}function SD(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Cl&&l instanceof Cl||a instanceof Il&&l instanceof Il?Qa(a.elements,l.elements,Ci):a instanceof qc&&l instanceof qc?Ci(a.Ae,l.Ae):a instanceof Rl&&l instanceof Rl})(r.transform,t.transform)}class AD{constructor(t,i){this.version=t,this.transformResults=i}}class es{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new es}static exists(t){return new es(void 0,t)}static updateTime(t){return new es(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lh{}function tE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new nE(r.key,es.none()):new Ul(r.key,r.data,es.none());{const i=r.data,a=kn.empty();let l=new Ue(Ye.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new Kr(r.key,a,new $n(l.toArray()),es.none())}}function bD(r,t,i){r instanceof Ul?(function(l,h,d){const g=l.value.clone(),v=cv(l.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Kr?(function(l,h,d){if(!Rc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=cv(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(eE(l)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function _l(r,t,i,a){return r instanceof Ul?(function(h,d,g,v){if(!Rc(h.precondition,d))return g;const _=h.value.clone(),S=hv(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Kr?(function(h,d,g,v){if(!Rc(h.precondition,d))return g;const _=hv(h.fieldTransforms,v,d),S=d.data;return S.setAll(eE(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(h,d,g){return Rc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function DD(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=Z0(a.transform,l||null);h!=null&&(i===null&&(i=kn.empty()),i.set(a.field,h))}return i||null}function uv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Qa(a,l,((h,d)=>SD(h,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ul extends lh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Kr extends lh{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function eE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function cv(r,t,i){const a=new Map;Xt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const h=r[l],d=h.transform,g=t.data.field(h.field);a.set(h.field,ED(d,g,i[l]))}return a}function hv(r,t,i){const a=new Map;for(const l of r){const h=l.transform,d=i.data.field(l.field);a.set(l.field,vD(h,d,t))}return a}class nE extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wD extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&bD(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=_l(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=_l(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=Y0();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const v=tE(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,a)=>uv(i,a)))&&Qa(this.baseMutations,t.baseMutations,((i,a)=>uv(i,a)))}}class Am{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return mD})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new Am(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,jt;function ND(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function iE(r){if(r===void 0)return is("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Oe.OK:return Z.OK;case Oe.CANCELLED:return Z.CANCELLED;case Oe.UNKNOWN:return Z.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return Z.INTERNAL;case Oe.UNAVAILABLE:return Z.UNAVAILABLE;case Oe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Oe.NOT_FOUND:return Z.NOT_FOUND;case Oe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Oe.ABORTED:return Z.ABORTED;case Oe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Oe.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(jt=Oe||(Oe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Zs([4294967295,4294967295],0);function fv(r){const t=OD().encode(r),i=new v0;return i.update(t),new Uint8Array(i.digest())}function dv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Zs([i,a],0),new Zs([l,h],0)]}class bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new fl(`Invalid padding: ${i}`);if(a<0)throw new fl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Zs.fromNumber(a)));return l.compare(MD)===1&&(l=new Zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=fv(t),[a,l]=dv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new bm(h,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=fv(t),[a,l]=dv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,i,a,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new uh(Et.min(),l,new de(xt),ss(),Lt())}}class xl{constructor(t,i,a,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new xl(a,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class sE{constructor(t,i){this.targetId=t,this.Ce=i}}class rE{constructor(t,i,a=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class mv{constructor(){this.ve=0,this.Fe=pv(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:h})}})),new xl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=pv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VD{constructor(t){this.Ge=t,this.ze=new Map,this.je=ss(),this.Je=Ec(),this.He=Ec(),this.Ye=new de(xt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Yd(h))if(a===0){const d=new dt(h.path);this.et(i,d,We.newNoDocument(d,Et.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=er(a).toUint8Array()}catch(v){if(v instanceof N0)return Fa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new bm(d,l,h)}catch(v){return Fa(v instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Yd(g.target)){const v=new dt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,We.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Lt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new uh(t,i,this.Ye,this.je,a);return this.je=ss(),this.Je=Ec(),this.He=Ec(),this.Ye=new de(xt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new mv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ue(xt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ue(xt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new de(dt.comparator)}function pv(){return new de(dt.comparator)}const BD={asc:"ASCENDING",desc:"DESCENDING"},UD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xD={and:"AND",or:"OR"};class LD{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(r,t){return r.useProto3Json||nh(t)?t:{value:t}}function Hc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kD(r,t){return Hc(r,t.toTimestamp())}function bi(r){return Xt(!!r,49232),Et.fromTimestamp((function(i){const a=tr(i);return new ue(a.seconds,a.nanos)})(r))}function Dm(r,t){return Jd(r,t).canonicalString()}function Jd(r,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function oE(r){const t=fe.fromString(r);return Xt(fE(t),10190,{key:t.toString()}),t}function $d(r,t){return Dm(r.databaseId,t.path)}function Rd(r,t){const i=oE(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(uE(i))}function lE(r,t){return Dm(r.databaseId,t)}function PD(r){const t=oE(r);return t.length===4?fe.emptyPath():uE(t)}function Wd(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function uE(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function gv(r,t,i){return{name:$d(r,t),fields:i.value.mapValue.fields}}function zD(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(Xt(S===void 0||typeof S=="string",58123),Xe.fromBase64String(S||"")):(Xt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Xe.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?Z.UNKNOWN:iE(_.code);return new ut(S,_.message||"")})(d);i=new rE(a,l,h,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Rd(r,a.document.name),h=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):Et.min(),g=new kn({mapValue:{fields:a.document.fields}}),v=We.newFoundDocument(l,h,d,g),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Cc(_,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Rd(r,a.document),h=a.readTime?bi(a.readTime):Et.min(),d=We.newNoDocument(l,h),g=a.removedTargetIds||[];i=new Cc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Rd(r,a.document),h=a.removedTargetIds||[];i=new Cc([],h,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new ID(l,h),g=a.targetId;i=new sE(g,d)}}return i}function jD(r,t){let i;if(t instanceof Ul)i={update:gv(r,t.key,t.value)};else if(t instanceof nE)i={delete:$d(r,t.key)};else if(t instanceof Kr)i={update:gv(r,t.key,t.data),updateMask:ZD(t.fieldMask)};else{if(!(t instanceof wD))return yt(16599,{Vt:t.type});i={verify:$d(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof Rl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Cl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Il)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof qc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:kD(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(r,t.precondition)),i}function qD(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((i=>(function(l,h){let d=l.updateTime?bi(l.updateTime):bi(h);return d.isEqual(Et.min())&&(d=bi(h)),new AD(d,l.transformResults||[])})(i,t)))):[]}function HD(r,t){return{documents:[lE(r,t.path)]}}function GD(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=lE(r,l);const h=(function(_){if(_.length!==0)return hE(Ii.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(V){return{field:ka(V.field),direction:KD(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Zd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function FD(r){let t=PD(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];i.where&&(h=(function(b){const V=cE(b);return V instanceof Ii&&z0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(X){return new jc(Pa(X.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let V;return V=typeof b=="object"?b.value:b,nh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(b){const V=!!b.before,H=b.values||[];return new zc(H,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const V=!b.before,H=b.values||[];return new zc(H,V)})(i.endAt)),lD(t,l,d,h,g,"F",v,_)}function QD(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function cE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Pa(i.unaryFilter.field);return Be.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Pa(i.unaryFilter.field);return Be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Be.create(Pa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>cE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function KD(r){return BD[r]}function YD(r){return UD[r]}function XD(r){return xD[r]}function ka(r){return{fieldPath:r.canonicalString()}}function Pa(r){return Ye.fromServerFormat(r.fieldPath)}function hE(r){return r instanceof Be?(function(i){if(i.op==="=="){if(iv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(nv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(iv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(nv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:YD(i.op),value:i.value}}})(r):r instanceof Ii?(function(i){const a=i.getFilters().map((l=>hE(l)));return a.length===1?a[0]:{compositeFilter:{op:XD(i.op),filters:a}}})(r):yt(54877,{filter:r})}function ZD(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function fE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,i,a,l,h=Et.min(),d=Et.min(),g=Xe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t){this.yt=t}}function $D(r){const t=FD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Cn=new tw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Ws.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class tw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ue(fe.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ue(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(dE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LruGarbageCollector",ew=1048576;function vv([r,t],[i,a]){const l=xt(r,i);return l===0?xt(t,a):l}class nw{constructor(t){this.Ir=t,this.buffer=new Ue(vv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();vv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(_v,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){no(i)?st(_v,"Ignoring IndexedDB error during garbage collection: ",i):await eo(i)}await this.Vr(3e5)}))}}class sw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(eh.ce);const a=new nw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(yv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,h,d,g,v,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),xa()<=Ut.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:b}))))}}function rw(r,t){return new sw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.changes=new Qr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&_l(a.mutation,l,$n.empty(),ue.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const l=Lr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((h=>{let d=hl();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Lr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let h=ss();const d=yl(),g=(function(){return yl()})();return i.forEach(((v,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Kr)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),_l(S.mutation,_,S.mutation.getFieldMask(),ue.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new ow(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=yl();let l=new de(((d,g)=>d-g)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=a.get(v)||$n.empty();S=g.applyToLocalView(_,S),a.set(v,S);const b=(l.get(g.batchId)||Lt()).add(v);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,S=v.value,b=Y0();S.forEach((V=>{if(!h.has(V)){const H=tE(i.get(V),a.get(V));H!==null&&b.set(V,H),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):uD(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):Y.resolve(Lr());let g=Al,v=h;return d.next((_=>Y.forEach(_,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),h.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{v=v.insert(S,V)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Lt()))).next((S=>({batchId:g,changes:K0(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=hl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(t,h).next((g=>Y.forEach(g,(v=>{const _=(function(b,V){return new sh(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l)))).next((d=>{h.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,We.newInvalidDocument(S)))}));let g=hl();return d.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&_l(S.mutation,_,$n.empty(),ue.now()),ah(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:$D(l.bundledQuery),readTime:bi(l.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.overlays=new de(dt.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Lr();return Y.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,h)=>{this.St(t,i,h)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const l=Lr(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new de(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=h.get(_.largestBatchId);S===null&&(S=Lr(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Lr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=l)););return Y.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new CD(i,a));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.Qr=new Ue(Pe.$r),this.Ur=new Ue(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new fe([])),a=new Pe(i,t),l=new Pe(i,t+1),h=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new fe([])),a=new Pe(i,t),l=new Pe(i,t+1);let h=Lt();return this.Ur.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||xt(t.Yr,i.Yr)}static Kr(t,i){return xt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(Pe.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new RD(h,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),h=l<0?0:l;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?gm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ue(xt);return i.forEach((l=>{const h=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),Y.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;dt.isDocumentKey(h)||(h=h.child(""));const d=new Pe(new dt(h),0);let g=new Ue(xt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(v.Yr)),!0)}),d),Y.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Y.forEach(i.mutations,(l=>{const h=new Pe(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Zr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){this.ri=t,this.docs=(function(){return new de(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let a=ss();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():We.newInvalidDocument(l))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=ss();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||zb(Pb(S),a)<=0||(l.has(S.key)||ah(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new mw(this)}getSize(t){return Y.resolve(this.size)}}class mw extends aw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t){this.persistence=t,this.si=new Qr((i=>vm(i)),Em),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new wm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Y.waitFor(h).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,i){this.ui={},this.overlays={},this.ci=new eh(0),this.li=!1,this.li=!0,this.hi=new hw,this.referenceDelegate=t(this),this.Pi=new pw(this),this.indexManager=new WD,this.remoteDocumentCache=(function(l){return new dw(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new JD(i),this.Ii=new uw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new cw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new fw(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new gw(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return Y.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class gw extends qb{constructor(t){super(),this.currentSequenceNumber=t}}class Rm{constructor(t){this.persistence=t,this.Ri=new wm,this.Vi=null}static mi(t){return new Rm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(a=>{const l=dt.fromPath(a);return this.gi(t,l).next((h=>{h||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Gc{constructor(t,i){this.persistence=t,this.pi=new Qr((a=>Fb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=rw(this,i)}static mi(t,i){return new Gc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((a,l)=>this.br(t,a,l).next((h=>h?Y.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}br(t,i,a){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Lt(),l=Lt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Cm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lA()?8:Hb(tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new yw;return this.Ss(t,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>h.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(xa()<=Ut.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(xa()<=Ut.DEBUG&&st("QueryEngine","Query:",La(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(xa()<=Ut.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):Y.resolve())}ys(t,i){if(ov(i))return Y.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Xd(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Lt(...h);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(t,Xd(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,a,l){return ov(i)||l.isEqual(Et.min())?Y.resolve(null):this.ps.getDocuments(t,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,l)?Y.resolve(null):(xa()<=Ut.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.vs(t,d,i,kb(l,Al)).next((g=>g)))}))}Ds(t,i){let a=new Ue(F0(t));return i.forEach(((l,h)=>{ah(t,h)&&(a=a.add(h))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,a){return xa()<=Ut.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,Ws.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="LocalStore",vw=3e8;class Ew{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new de(xt),this.xs=new Qr((h=>vm(h)),Em),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Tw(r,t,i,a){return new Ew(r,t,i,a)}async function pE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let v=Lt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){g.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Sw(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,S){const b=_.batch,V=b.keys();let H=Y.resolve();return V.forEach((X=>{H=H.next((()=>S.getEntry(v,X))).next((W=>{const J=_.docVersions.get(X);Xt(J!==null,48541),W.version.compareTo(J)<0&&(b.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),S.addEntry(W)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Lt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function gE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function Aw(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((S,b)=>{const V=l.get(b);if(!V)return;g.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,b))));let H=V.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Xe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,a)),l=l.insert(b,H),(function(W,J,ht){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=vw?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,H,S)&&g.push(i.Pi.updateTargetData(h,H))}));let v=ss(),_=Lt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),g.push(bw(h,d,t.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!a.isEqual(Et.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(S)}return Y.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=l,h)))}function bw(r,t,i){let a=Lt(),l=Lt();return i.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let d=ss();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(Et.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):st(Im,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function Dw(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=gm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function ww(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((h=>h?(l=h,Y.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function tm(r,t,i){const a=St(r),l=a.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!no(d))throw d;st(Im,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Ev(r,t,i){const a=St(r);let l=Et.min(),h=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const b=St(v),V=b.xs.get(S);return V!==void 0?Y.resolve(b.Ms.get(V)):b.Pi.getTargetData(_,S)})(a,d,Ai(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?h:Lt()))).next((g=>(Rw(a,hD(t),g),{documents:g,Qs:h})))))}function Rw(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(t,a)}class Tv{constructor(){this.activeTargetIds=yD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Cw{constructor(){this.Mo=new Tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Tv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class Av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Sv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function em(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="RestConnection",Nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ow{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,h){const d=em(),g=this.zo(t,i.toUriEncodedString());st(Cd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:_}=new URL(g),S=$a(_);return this.Jo(t,g,v,a,S).then((b=>(st(Cd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Fa(Cd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}Ho(t,i,a,l,h,d){return this.Go(t,i,a,l,h)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+to})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const a=Nw[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class Vw extends Ow{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,h){const d=em();return new Promise(((g,v)=>{const _=new E0;_.setWithCredentials(!0),_.listenOnce(T0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case bc.NO_ERROR:const b=_.getResponseJson();st(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case bc.TIMEOUT:st(Je,`RPC '${t}' ${d} timed out`),v(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const V=_.getStatus();if(st(Je,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const X=H?.error;if(X&&X.status&&X.message){const W=(function(ht){const ft=ht.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ft)>=0?ft:Z.UNKNOWN})(X.status);v(new ut(W,X.message))}else v(new ut(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Je,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);st(Je,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=em(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=b0(),g=A0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const S=h.join("");st(Je,`Creating RPC '${t}' stream ${l}: ${S}`,v);const b=d.createWebChannel(S,v);this.I_(b);let V=!1,H=!1;const X=new Mw({Yo:J=>{H?st(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(V||(st(Je,`Opening RPC '${t}' stream ${l} transport.`),b.open(),V=!0),st(Je,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),W=(J,ht,ft)=>{J.listen(ht,(pt=>{try{ft(pt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return W(b,cl.EventType.OPEN,(()=>{H||(st(Je,`RPC '${t}' stream ${l} transport opened.`),X.o_())})),W(b,cl.EventType.CLOSE,(()=>{H||(H=!0,st(Je,`RPC '${t}' stream ${l} transport closed`),X.a_(),this.E_(b))})),W(b,cl.EventType.ERROR,(J=>{H||(H=!0,Fa(Je,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),X.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),W(b,cl.EventType.MESSAGE,(J=>{if(!H){const ht=J.data[0];Xt(!!ht,16349);const ft=ht,pt=ft?.error||ft[0]?.error;if(pt){st(Je,`RPC '${t}' stream ${l} received error:`,pt);const qt=pt.status;let ie=(function(A){const w=Oe[A];if(w!==void 0)return iE(w)})(qt),Ct=pt.message;ie===void 0&&(ie=Z.INTERNAL,Ct="Unknown error status: "+qt+" with message "+pt.message),H=!0,X.a_(new ut(ie,Ct)),b.close()}else st(Je,`RPC '${t}' stream ${l} received:`,ht),X.u_(ht)}})),W(g,S0.STAT_EVENT,(J=>{J.stat===Hd.PROXY?st(Je,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Hd.NOPROXY&&st(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r){return new LD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="PersistentStream";class _E{constructor(t,i,a,l,h,d,g,v){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bw extends _E{constructor(t,i,a,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=zD(this.serializer,t),a=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?bi(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Wd(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=Yd(v)?{documents:HD(h,v)}:{query:GD(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=aE(h,d.resumeToken);const _=Zd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Hc(h,d.snapshotVersion.toTimestamp());const _=Zd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=QD(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Wd(this.serializer),i.removeTarget=t,this.q_(i)}}class Uw extends _E{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=qD(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Wd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>jD(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{}class Lw extends xw{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Jd(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(Z.UNKNOWN,h.toString())}))}Ho(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Jd(i,a),l,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="RemoteStore";class Pw{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Yr(this)&&(st(Hr,"Restarting streams for network reachability change."),await(async function(v){const _=St(v);_.Ea.add(4),await Ll(_),_.Ra.set("Unknown"),_.Ea.delete(4),await hh(_)})(this))}))})),this.Ra=new kw(a,l)}}async function hh(r){if(Yr(r))for(const t of r.da)await t(!0)}async function Ll(r){for(const t of r.da)await t(!1)}function vE(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Vm(i)?Mm(i):io(i).O_()&&Om(i,t))}function Nm(r,t){const i=St(r),a=io(i);i.Ia.delete(t),a.O_()&&EE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Yr(i)&&i.Ra.set("Unknown"))}function Om(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}io(r).Y_(t)}function EE(r,t){r.Va.Ue(t),io(r).Z_(t)}function Mm(r){r.Va=new VD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),io(r).start(),r.Ra.ua()}function Vm(r){return Yr(r)&&!io(r).x_()&&r.Ia.size>0}function Yr(r){return St(r).Ea.size===0}function TE(r){r.Va=void 0}async function zw(r){r.Ra.set("Online")}async function jw(r){r.Ia.forEach(((t,i)=>{Om(r,t)}))}async function qw(r,t){TE(r),Vm(r)?(r.Ra.ha(t),Mm(r)):r.Ra.set("Unknown")}async function Hw(r,t,i){if(r.Ra.set("Online"),t instanceof rE&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(a){st(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Fc(r,a)}else if(t instanceof Cc?r.Va.Ze(t):t instanceof sE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await gE(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Xe.EMPTY_BYTE_STRING,S.snapshotVersion)),EE(h,v);const b=new Qs(S.target,v,_,S.sequenceNumber);Om(h,b)})),h.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){st(Hr,"Failed to raise snapshot:",a),await Fc(r,a)}}async function Fc(r,t,i){if(!no(t))throw t;r.Ea.add(1),await Ll(r),r.Ra.set("Offline"),i||(i=()=>gE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Hr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await hh(r)}))}function SE(r,t){return t().catch((i=>Fc(r,i,t)))}async function fh(r){const t=St(r),i=ir(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gm;for(;Gw(t);)try{const l=await Dw(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,Fw(t,l)}catch(l){await Fc(t,l)}AE(t)&&bE(t)}function Gw(r){return Yr(r)&&r.Ta.length<10}function Fw(r,t){r.Ta.push(t);const i=ir(r);i.O_()&&i.X_&&i.ea(t.mutations)}function AE(r){return Yr(r)&&!ir(r).x_()&&r.Ta.length>0}function bE(r){ir(r).start()}async function Qw(r){ir(r).ra()}async function Kw(r){const t=ir(r);for(const i of r.Ta)t.ea(i.mutations)}async function Yw(r,t,i){const a=r.Ta.shift(),l=Am.from(a,t,i);await SE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await fh(r)}async function Xw(r,t){t&&ir(r).X_&&await(async function(a,l){if((function(d){return ND(d)&&d!==Z.ABORTED})(l.code)){const h=a.Ta.shift();ir(a).B_(),await SE(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await fh(a)}})(r,t),AE(r)&&bE(r)}async function Dv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),st(Hr,"RemoteStore received new credentials");const a=Yr(i);i.Ea.add(3),await Ll(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await hh(i)}async function Zw(r,t){const i=St(r);t?(i.Ea.delete(2),await hh(i)):t||(i.Ea.add(2),await Ll(i),i.Ra.set("Unknown"))}function io(r){return r.ma||(r.ma=(function(i,a,l){const h=St(i);return h.sa(),new Bw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:zw.bind(null,r),t_:jw.bind(null,r),r_:qw.bind(null,r),H_:Hw.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Vm(r)?Mm(r):r.Ra.set("Unknown")):(await r.ma.stop(),TE(r))}))),r.ma}function ir(r){return r.fa||(r.fa=(function(i,a,l){const h=St(i);return h.sa(),new Uw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qw.bind(null,r),r_:Xw.bind(null,r),ta:Kw.bind(null,r),na:Yw.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await fh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Hr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,g=new Bm(t,i,d,l,h);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Um(r,t){if(is("AsyncQueue",`${t}: ${r}`),no(r))return new ut(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{static emptySet(t){return new za(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=hl(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new za;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.ga=new de(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Za{constructor(t,i,a,l,h,d,g,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Za(t,i,za.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class $w{constructor(){this.queries=Rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),h=l.queries;l.queries=Rv(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function Rv(){return new Qr((r=>G0(r)),rh)}async function Ww(r,t){const i=St(r);let a=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new Jw,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Um(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&xm(i)}async function t2(r,t){const i=St(r),a=t.query;let l=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function e2(r,t){const i=St(r);let a=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&xm(i)}function n2(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);a.queries.delete(t)}function xm(r){r.Ca.forEach((t=>{t.next()}))}var nm,Cv;(Cv=nm||(nm={})).Ma="default",Cv.Cache="cache";class i2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Za(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==nm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t){this.key=t}}class wE{constructor(t){this.key=t}}class s2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=F0(t),this.tu=new za(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new wv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const V=l.get(S),H=ah(this.query,b)?b:null,X=!!V&&this.mutatedKeys.has(V.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;V&&H?V.data.isEqual(H.data)?X!==W&&(a.track({type:3,doc:H}),J=!0):this.su(V,H)||(a.track({type:2,doc:H}),J=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(g=!0)):!V&&H?(a.track({type:0,doc:H}),J=!0):V&&!H&&(a.track({type:1,doc:V}),J=!0,(v||_)&&(g=!0)),J&&(H?(d=d.add(H),h=W?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(H,X){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:J})}};return W(H)-W(X)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Za(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new wE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new DE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lm="SyncEngine";class r2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class a2{constructor(t){this.key=t,this.hu=!1}}class o2{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qr((g=>G0(g)),rh),this.Iu=new Map,this.Eu=new Set,this.du=new de(dt.comparator),this.Au=new Map,this.Ru=new wm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l2(r,t,i=!0){const a=ME(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await RE(a,t,i,!0),l}async function u2(r,t){const i=ME(r);await RE(i,t,!0,!1)}async function RE(r,t,i,a){const l=await ww(r.localStore,Ai(t)),h=l.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await c2(r,t,h,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&vE(r.remoteStore,l),g}async function c2(r,t,i,a,l){r.pu=(b,V,H)=>(async function(W,J,ht,ft){let pt=J.view.ru(ht);pt.Cs&&(pt=await Ev(W.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,pt))));const qt=ft&&ft.targetChanges.get(J.targetId),ie=ft&&ft.targetMismatches.get(J.targetId)!=null,Ct=J.view.applyChanges(pt,W.isPrimaryClient,qt,ie);return Nv(W,J.targetId,Ct.au),Ct.snapshot})(r,b,V,H);const h=await Ev(r.localStore,t,!0),d=new s2(t,h.Qs),g=d.ru(h.documents),v=xl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,v);Nv(r,i,_.au);const S=new r2(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function h2(r,t,i){const a=St(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((d=>!rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await tm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Nm(a.remoteStore,l.targetId),im(a,l.targetId)})).catch(eo)):(im(a,l.targetId),await tm(a.localStore,l.targetId,!0))}async function f2(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Nm(i.remoteStore,a.targetId))}async function d2(r,t,i){const a=E2(r);try{const l=await(function(d,g){const v=St(d),_=ue.now(),S=g.reduce(((H,X)=>H.add(X.key)),Lt());let b,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let X=ss(),W=Lt();return v.Ns.getEntries(H,S).next((J=>{X=J,X.forEach(((ht,ft)=>{ft.isValidDocument()||(W=W.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,X))).next((J=>{b=J;const ht=[];for(const ft of g){const pt=DD(ft,b.get(ft.key).overlayedDocument);pt!=null&&ht.push(new Kr(ft.key,pt,L0(pt.value.mapValue),es.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,ht,g)})).next((J=>{V=J;const ht=J.applyToLocalDocumentSet(b,W);return v.documentOverlayCache.saveOverlays(H,J.batchId,ht)}))})).then((()=>({batchId:V.batchId,changes:K0(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new de(xt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await kl(a,l.changes),await fh(a.remoteStore)}catch(l){const h=Um(l,"Failed to persist write");i.reject(h)}}async function CE(r,t){const i=St(r);try{const a=await Aw(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await kl(i,a,t)}catch(a){await eo(a)}}function Iv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=St(d);v.onlineState=g;let _=!1;v.queries.forEach(((S,b)=>{for(const V of b.Sa)V.va(g)&&(_=!0)})),_&&xm(v)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function m2(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),h=l&&l.key;if(h){let d=new de(dt.comparator);d=d.insert(h,We.newNoDocument(h,Et.min()));const g=Lt().add(h),v=new uh(Et.min(),new Map,new de(xt),d,g);await CE(a,v),a.du=a.du.remove(h),a.Au.delete(t),km(a)}else await tm(a.localStore,t,!1).then((()=>im(a,t,i))).catch(eo)}async function p2(r,t){const i=St(r),a=t.batch.batchId;try{const l=await Sw(i.localStore,t);NE(i,a,null),IE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await kl(i,l)}catch(l){await eo(l)}}async function g2(r,t,i){const a=St(r);try{const l=await(function(d,g){const v=St(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,g).next((b=>(Xt(b!==null,37113),S=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);NE(a,t,i),IE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await kl(a,l)}catch(l){await eo(l)}}function IE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function NE(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function im(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||OE(r,a)}))}function OE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Nm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),km(r))}function Nv(r,t,i){for(const a of i)a instanceof DE?(r.Ru.addReference(a.key,t),y2(r,a)):a instanceof wE?(st(Lm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||OE(r,a.key)):yt(19791,{wu:a})}function y2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(Lm,"New document in limbo: "+i),r.Eu.add(a),km(r))}function km(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(fe.fromString(t)),a=r.fu.next();r.Au.set(a,new a2(i)),r.du=r.du.insert(i,a),vE(r.remoteStore,new Qs(Ai(Tm(i.path)),a,"TargetPurposeLimboResolution",eh.ce))}}async function kl(r,t,i){const a=St(r),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Cm.As(v.targetId,_);h.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(v,_){const S=St(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(_,(V=>Y.forEach(V.Es,(H=>S.persistence.referenceDelegate.addReference(b,V.targetId,H))).next((()=>Y.forEach(V.ds,(H=>S.persistence.referenceDelegate.removeReference(b,V.targetId,H)))))))))}catch(b){if(!no(b))throw b;st(Im,"Failed to update sequence numbers: "+b)}for(const b of _){const V=b.targetId;if(!b.fromCache){const H=S.Ms.get(V),X=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(X);S.Ms=S.Ms.insert(V,W)}}})(a.localStore,h))}async function _2(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){st(Lm,"User change. New user:",t.toKey());const a=await pE(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new ut(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await kl(i,a.Ls)}}function v2(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let l=Lt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function ME(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=CE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=v2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=m2.bind(null,t),t.Pu.H_=e2.bind(null,t.eventManager),t.Pu.yu=n2.bind(null,t.eventManager),t}function E2(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=p2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=g2.bind(null,t),t}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Tw(this.persistence,new _w,t.initialUser,this.serializer)}Cu(t){return new mE(Rm.mi,this.serializer)}Du(t){return new Cw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class T2 extends Qc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof Gc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new mE((a=>Gc.mi(a,i)),this.serializer)}}class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Iv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_2.bind(null,this.syncEngine),await Zw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $w})()}createDatastore(t){const i=ch(t.databaseInfo.databaseId),a=(function(h){return new Vw(h)})(t.databaseInfo);return(function(h,d,g,v){return new Lw(h,d,g,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,h,d,g){return new Pw(a,l,h,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Iv(this.syncEngine,i,0)),(function(){return Av.v()?new Av:new Iw})())}createSyncEngine(t,i){return(function(l,h,d,g,v,_,S){const b=new o2(l,h,d,g,v,_);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);st(Hr,"RemoteStore shutting down."),a.Ea.add(5),await Ll(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="FirestoreClient";class A2{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{st(sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Um(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Nd(r,t){r.asyncQueue.verifyOperationInProgress(),st(sr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await pE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Ov(r,t){r.asyncQueue.verifyOperationInProgress();const i=await b2(r);st(sr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Dv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Dv(t.remoteStore,l))),r._onlineComponents=t}async function b2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(sr,"Using user provided OfflineComponentProvider");try{await Nd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await Nd(r,new Qc)}}else st(sr,"Using default OfflineComponentProvider"),await Nd(r,new T2(void 0));return r._offlineComponents}async function VE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(sr,"Using user provided OnlineComponentProvider"),await Ov(r,r._uninitializedComponentsProvider._online)):(st(sr,"Using default OnlineComponentProvider"),await Ov(r,new sm))),r._onlineComponents}function D2(r){return VE(r).then((t=>t.syncEngine))}async function w2(r){const t=await VE(r),i=t.eventManager;return i.onListen=l2.bind(null,t.syncEngine),i.onUnlisten=h2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=u2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=f2.bind(null,t.syncEngine),i}function R2(r,t,i={}){const a=new Js;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,v,_){const S=new S2({next:V=>{S.Nu(),d.enqueueAndForget((()=>t2(h,b)));const H=V.docs.has(g);!H&&V.fromCache?_.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&V.fromCache&&v&&v.source==="server"?_.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),b=new i2(Tm(g.path),S,{includeMetadataChanges:!0,qa:!0});return Ww(h,b)})(await w2(r),r.asyncQueue,t,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firestore.googleapis.com",Vv=!0;class Bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=Vv}else this.host=t.host,this.ssl=t.ssl??Vv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ew)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Lb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pm{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new wb;switch(a.type){case"firstParty":return new Nb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Mv.get(i);a&&(st("ComponentProvider","Removing Datastore"),Mv.delete(i),a.terminate())})(this),Promise.resolve()}}function C2(r,t,i,a={}){r=Sl(r,Pm);const l=$a(t),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(h0(`https://${g}`),f0("Firestore",!0)),h.host!==UE&&h.host!==g&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:l,emulatorOptions:a};if(!zr(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=$e.MOCK_USER;else{_=WS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $e(b)}r._authCredentials=new Rb(new w0(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new zm(this.firestore,t,this._query)}}class ze{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Bl(i,ze._jsonSchema))return new ze(t,a||null,new dt(fe.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Me("string",ze._jsonSchemaVersion),referencePath:Me("string")};class Nl extends zm{constructor(t,i,a){super(t,i,Tm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new dt(t))}withConverter(t){return new Nl(this.firestore,t,this._path)}}function Od(r,t,...i){if(r=Sn(r),arguments.length===1&&(t=mm.newId()),xb("doc","path",t),r instanceof Pm){const a=fe.fromString(t,...i);return Y_(a),new ze(r,null,new dt(a))}{if(!(r instanceof ze||r instanceof Nl))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return Y_(a),new ze(r.firestore,r instanceof Nl?r.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="AsyncQueue";class xv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yE(this,"async_queue_retry"),this._c=()=>{const a=Id();a&&st(Uv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!no(t))throw t;st(Uv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",Lv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Lv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class jm extends Pm{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new xv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xv(t),this._firestoreClient=void 0,await t}}}function I2(r,t){const i=typeof r=="object"?r:g0(),a=typeof r=="string"?r:kc,l=fm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=JS("firestore");h&&C2(l,...h)}return l}function xE(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||N2(r),r._firestoreClient}function N2(r){const t=r._freezeSettings(),i=(function(l,h,d,g){return new Yb(l,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,BE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new A2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Xe.fromBase64String(t))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Me("string",Pn._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Me("string",Di._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Me("string",wi._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=/^__.*__$/;class M2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Kr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ul(t,this.data,i,this.fieldTransforms)}}function LE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Gm{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Gm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Kc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(LE(this.Ac)&&O2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class V2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ch(t)}Cc(t,i,a,l=!1){return new Gm({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B2(r){const t=r._freezeSettings(),i=ch(r._databaseId);return new V2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function U2(r,t,i,a,l,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,t,i,l);jE("Data must be an object, but it was:",d,a);const g=PE(a,d);let v,_;if(h.merge)v=new $n(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const b of h.mergeFields){const V=x2(t,b,i);if(!d.contains(V))throw new ut(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);k2(S,V)||S.push(V)}v=new $n(S),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new M2(new kn(g),v,_)}class Fm extends Hm{_toFieldTransform(t){return new TD(t.path,new Rl)}isEqual(t){return t instanceof Fm}}function kE(r,t){if(zE(r=Sn(r)))return jE("Unsupported field value:",t,r),PE(r,t);if(r instanceof Hm)return(function(a,l){if(!LE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const h=[];let d=0;for(const g of a){let v=kE(g,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _D(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ue.fromDate(a);return{timestampValue:Hc(l.serializer,h)}}if(a instanceof ue){const h=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Hc(l.serializer,h)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:aE(l.serializer,a._byteString)};if(a instanceof ze){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,g){return{mapValue:{fields:{[U0]:{stringValue:x0},[Pc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Sm(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${pm(a)}`)})(r,t)}function PE(r,t){const i={};return I0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(r,((a,l)=>{const h=kE(l,t.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function zE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ue||r instanceof Di||r instanceof Pn||r instanceof ze||r instanceof Hm||r instanceof wi)}function jE(r,t,i){if(!zE(i)||!R0(i)){const a=pm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function x2(r,t,i){if((t=Sn(t))instanceof qm)return t._internalPath;if(typeof t=="string")return qE(r,t);throw Kc("Field path arguments must be of type string or ",r,!1,void 0,i)}const L2=new RegExp("[~\\*/\\[\\]]");function qE(r,t,i){if(t.search(L2)>=0)throw Kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new qm(...t.split("."))._internalPath}catch{throw Kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Kc(r,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ut(Z.INVALID_ARGUMENT,g+r+v)}function k2(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new P2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(GE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class P2 extends HE{data(){return super.data()}}function GE(r,t){return typeof t=="string"?qE(r,t):t instanceof qm?t._internalPath:t._delegate._internalPath}class z2{convertValue(t,i="none"){switch(nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Fr(t,((l,h)=>{a[l]=this.convertValue(h,i)})),a}convertVectorValue(t){const i=t.fields?.[Pc].arrayValue?.values?.map((a=>Se(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new Di(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ih(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(bl(t));default:return null}}convertTimestamp(t){const i=tr(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);Xt(fE(a),9688,{name:t});const l=new Dl(a.get(1),a.get(3)),h=new dt(a.popFirst(5));return l.isEqual(i)||is(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class dl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends HE{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(GE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Me("string",Pr._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Ic extends Pr{data(t={}){return super.data(t)}}class vl{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Ic(this._firestore,this._userDataWriter,a.key,a,new dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Ic(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Ic(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:q2(g.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function q2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(r){r=Sl(r,ze);const t=Sl(r.firestore,jm);return R2(xE(t),r._key).then((i=>Q2(t,r,i)))}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:Me("string",vl._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class G2 extends z2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function Md(r,t,i){r=Sl(r,ze);const a=Sl(r.firestore,jm),l=j2(r.converter,t,i);return F2(a,[U2(B2(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,es.none())])}function F2(r,t){return(function(a,l){const h=new Js;return a.asyncQueue.enqueueAndForget((async()=>d2(await D2(a),l,h))),h.promise})(xE(r),t)}function Q2(r,t,i){const a=i.docs.get(t._key),l=new G2(r);return new Pr(r,l,t._key,a,new dl(i.hasPendingWrites,i.fromCache),t.converter)}function Sc(){return new Fm("serverTimestamp")}(function(t,i=!0){(function(l){to=l})(Wa),Ga(new jr("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new jm(new Cb(a.getProvider("auth-internal")),new Ob(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(_.options.projectId,S)})(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Xs(G_,F_,t),Xs(G_,F_,"esm2020")})();const K2="/melplay/assets/character-CtfZi34P.png";function Y2({className:r,pressed:t=!1,...i}){const a=["platform"];return t&&a.push("platform--pressed"),r&&a.push(r),$.jsxs("div",{className:a.join(" "),role:"button",tabIndex:0,"aria-pressed":t,...i,children:[$.jsx("div",{className:"platform__shadow"}),$.jsxs("div",{className:"platform__body",children:[$.jsx("div",{className:"platform__edge"}),$.jsx("div",{className:"platform__top"})]}),$.jsx("div",{className:"platform__sprite",children:$.jsx("img",{src:K2,alt:"Игровой персонаж",draggable:!1})})]})}var X2="firebase",Z2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(X2,Z2,"app");function FE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J2=FE,QE=new Ml("auth","Firebase",FE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new cm("@firebase/auth");function $2(r,...t){Yc.logLevel<=Ut.WARN&&Yc.warn(`Auth (${Wa}): ${r}`,...t)}function Nc(r,...t){Yc.logLevel<=Ut.ERROR&&Yc.error(`Auth (${Wa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(r,...t){throw Km(r,...t)}function ti(r,...t){return Km(r,...t)}function Qm(r,t,i){const a={...J2(),[t]:i};return new Ml("auth","Firebase",a).create(t,{appName:r.name})}function $s(r){return Qm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KE(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ni(r,"argument-error"),Qm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return QE.create(r,...t)}function _t(r,t,...i){if(!r)throw Km(t,...i)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function rs(r,t){r||Wi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){return typeof self<"u"&&self.location?.href||""}function W2(){return kv()==="http:"||kv()==="https:"}function kv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W2()||rA()||"connection"in navigator)?navigator.onLine:!0}function eR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,rs(i>t,"Short delay should be less than long delay!"),this.isMobile=nA()||aA()}get(){return tR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(r,t){rs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sR=new Pl(3e4,6e4);function Xm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function so(r,t,i,a,l={}){return XE(r,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const g=Vl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:v,...h};return sA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&$a(r.emulatorConfig.host)&&(_.credentials="include"),YE.fetch()(await ZE(r,r.config.apiHost,i,g),_)})}async function XE(r,t,i){r._canInitEmulator=!1;const a={...nR,...t};try{const l=new aR(r),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ac(r,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Qm(r,S,_);Ni(r,S)}}catch(l){if(l instanceof as)throw l;Ni(r,"network-request-failed",{message:String(l)})}}async function rR(r,t,i,a,l={}){const h=await so(r,t,i,a,l);return"mfaPendingCredential"in h&&Ni(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function ZE(r,t,i,a){const l=`${t}${i}?${a}`,h=r,d=h.config.emulator?Ym(r.config,l):`${r.config.apiScheme}://${l}`;return iR.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class aR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ti(this.auth,"network-request-failed")),sR.get())})}}function Ac(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ti(r,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,t){return so(r,"POST","/v1/accounts:delete",t)}async function Xc(r,t){return so(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lR(r,t=!1){const i=Sn(r),a=await i.getIdToken(t),l=Zm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:El(Vd(l.auth_time)),issuedAtTime:El(Vd(l.iat)),expirationTime:El(Vd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Vd(r){return Number(r)*1e3}function Zm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=o0(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Pv(r){const t=Zm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof as&&uR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function uR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(r){const t=r.auth,i=await r.getIdToken(),a=await Ol(r,Xc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?JE(l.providerUserInfo):[],d=fR(r.providerData,h),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,_=g?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function hR(r){const t=Sn(r);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fR(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function JE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(r,t){const i=await XE(r,{},async()=>{const a=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,d=await ZE(r,l,"/v1/token",`key=${h}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&$a(r.emulatorConfig.host)&&(v.credentials="include"),YE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mR(r,t){return so(r,"POST","/v2/accounts:revokeToken",Xm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Pv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=Pv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await dR(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new ja;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(_t(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new cR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return lR(this,t)}reload(){return hR(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject($s(this.auth));const t=await this.getIdToken();return await Ol(this,oR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:H,providerData:X,stsTokenManager:W}=i;_t(b&&W,t,"internal-error");const J=ja.fromJSON(this.name,W);_t(typeof b=="string",t,"internal-error"),qs(a,t.name),qs(l,t.name),_t(typeof V=="boolean",t,"internal-error"),_t(typeof H=="boolean",t,"internal-error"),qs(h,t.name),qs(d,t.name),qs(g,t.name),qs(v,t.name),qs(_,t.name),qs(S,t.name);const ht=new Wn({uid:b,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:S});return X&&Array.isArray(X)&&(ht.providerData=X.map(ft=>({...ft}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new ja;l.updateFromServerResponse(i);const h=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Zc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?JE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new ja;g.updateFromIdToken(a);const v=new Wn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;function ts(r){rs(r instanceof Function,"Expected a class definition");let t=zv.get(r);return t?(rs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,zv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}$E.type="NONE";const jv=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(r,t,i){return`firebase:${r}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Oc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Xc(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa(ts(jv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||ts(jv);const d=Oc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let b;if(typeof S=="string"){const V=await Xc(t,{idToken:S}).catch(()=>{});if(!V)break;b=await Wn._fromGetAccountInfoResponse(t,V,S)}else b=Wn._fromJSON(t,S);_!==h&&(g=b),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new qa(h,t,a):(h=v[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new qa(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(WE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sT(t))return"Blackberry";if(rT(t))return"Webos";if(tT(t))return"Safari";if((t.includes("chrome/")||eT(t))&&!t.includes("edge/"))return"Chrome";if(iT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function WE(r=tn()){return/firefox\//i.test(r)}function tT(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eT(r=tn()){return/crios\//i.test(r)}function nT(r=tn()){return/iemobile/i.test(r)}function iT(r=tn()){return/android/i.test(r)}function sT(r=tn()){return/blackberry/i.test(r)}function rT(r=tn()){return/webos/i.test(r)}function Jm(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pR(r=tn()){return Jm(r)&&!!window.navigator?.standalone}function gR(){return oA()&&document.documentMode===10}function aT(r=tn()){return Jm(r)||iT(r)||rT(r)||sT(r)||/windows phone/i.test(r)||nT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r,t=[]){let i;switch(r){case"Browser":i=qv(tn());break;case"Worker":i=`${qv(tn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,g)=>{try{const v=t(h);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(r,t={}){return so(r,"GET","/v2/passwordPolicy",Xm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=6;class ER{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new yR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xc(this,{idToken:t}),a=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject($s(this));const i=t?Sn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _R(this),i=new ER(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ml("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await mR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&$2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ro(r){return Sn(r)}class Hv{constructor(t){this.auth=t,this.observer=null,this.addObserver=pA(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SR(r){$m=r}function AR(r){return $m.loadJS(r)}function bR(){return $m.gapiScript}function DR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(r,t){const i=fm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(zr(h,t??{}))return l;Ni(l,"already-initialized")}return i.initialize({options:t})}function RR(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ts);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function CR(r,t,i){const a=ro(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=lT(t),{host:d,port:g}=IR(t),v=g===null?"":`:${g}`,_={url:`${h}//${d}${v}/`},S=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(zr(_,a.config.emulator)&&zr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,$a(d)?(h0(`${h}//${d}${v}`),f0("Auth",!0)):NR()}function lT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function IR(r){const t=lT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:Gv(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:Gv(d)}}}function Gv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function NR(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(r,t){return rR(r,"POST","/v1/accounts:signInWithIdp",Xm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="http://localhost";class Gr extends uT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ni("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Gr(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ha(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:OR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends dh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends zl{constructor(){super("facebook.com")}static credential(t){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gr._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return $i.credential(i,a)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends zl{constructor(){super("github.com")}static credential(t){return Gr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends zl{constructor(){super("twitter.com")}static credential(t,i){return Gr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await Wn._fromIdTokenResponse(t,a,l),d=Fv(a);return new Ja({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Fv(a);return new Ja({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Fv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends as{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Jc(t,i,a,l)}}function cT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(r,h,t,a):h})}async function MR(r,t,i=!1){const a=await Ol(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ja._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(r,t,i=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject($s(a));const l="reauthenticate";try{const h=await Ol(r,cT(a,l,t,r),i);_t(h.idToken,a,"internal-error");const d=Zm(h.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(r.uid===g,a,"user-mismatch"),Ja._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ni(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(r,t,i=!1){if(Ln(r.app))return Promise.reject($s(r));const a="signIn",l=await cT(r,a,t),h=await Ja._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(h.user),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r,t){return Sn(r).setPersistence(t)}function xR(r,t,i,a){return Sn(r).onIdTokenChanged(t,i,a)}function LR(r,t,i){return Sn(r).beforeAuthStateChanged(t,i)}function kR(r,t,i,a){return Sn(r).onAuthStateChanged(t,i,a)}function PR(r){return Sn(r).signOut()}const $c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1e3,jR=10;class fT extends hT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);gR()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,jR):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},zR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}fT.type="LOCAL";const dT=fT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends hT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}mT.type="SESSION";const pT=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new mh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,h)),v=await qR(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,v)=>{const _=Wm("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(V.data.response);break;default:clearTimeout(S),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function GR(r){Ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function FR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QR(){return navigator?.serviceWorker?.controller||null}function KR(){return gT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",YR=1,Wc="firebaseLocalStorage",_T="fbase_key";class jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(r,t){return r.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function XR(){const r=indexedDB.deleteDatabase(yT);return new jl(r).toPromise()}function om(){const r=indexedDB.open(yT,YR);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Wc,{keyPath:_T})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Wc)?t(a):(a.close(),await XR(),t(await om()))})})}async function Qv(r,t,i){const a=ph(r,!0).put({[_T]:t,value:i});return new jl(a).toPromise()}async function ZR(r,t){const i=ph(r,!1).get(t),a=await new jl(i).toPromise();return a===void 0?null:a.value}function Kv(r,t){const i=ph(r,!0).delete(t);return new jl(i).toPromise()}const JR=800,$R=3;class vT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>$R)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(KR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new HR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await Qv(t,$c,"1"),await Kv(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Qv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>ZR(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Kv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=ph(l,!1).getAll();return new jl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vT.type="LOCAL";const WR=vT;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r,t){return t?ts(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends uT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function tC(r){return BR(r.auth,new ep(r),r.bypassAuthState)}function eC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),VR(i,new ep(r),r.bypassAuthState)}async function nC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),MR(i,new ep(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tC;case"linkViaPopup":case"linkViaRedirect":return nC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:Ni(this.auth,"internal-error")}}resolve(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new Pl(2e3,1e4);async function sC(r,t,i){if(Ln(r.app))return Promise.reject(ti(r,"operation-not-supported-in-this-environment"));const a=ro(r);KE(r,t,dh);const l=tp(a,i);return new kr(a,"signInViaPopup",t,l).executeNotNull()}class kr extends ET{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,kr.currentPopupAction&&kr.currentPopupAction.cancel(),kr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const t=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iC.get())};t()}}kr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",Mc=new Map;class aC extends ET{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await oC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oC(r,t){const i=ST(t),a=TT(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}async function lC(r,t){return TT(r)._set(ST(t),"true")}function uC(r,t){Mc.set(r._key(),t)}function TT(r){return ts(r._redirectPersistence)}function ST(r){return Oc(rC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r,t,i){return cC(r,t,i)}async function cC(r,t,i){if(Ln(r.app))return Promise.reject($s(r));const a=ro(r);KE(r,t,dh),await a._initializationPromise;const l=tp(a,i);return await lC(l,a),l._openRedirect(a,t,"signInViaRedirect")}async function hC(r,t){return await ro(r)._initializationPromise,AT(r,t,!1)}async function AT(r,t,i=!1){if(Ln(r.app))return Promise.reject($s(r));const a=ro(r),l=tp(a,t),d=await new aC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=600*1e3;class dC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!bT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(t))}saveEventToCache(t){this.cachedEventUids.add(Xv(t)),this.lastProcessedEventTime=Date.now()}}function Xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function bT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function mC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,t={}){return so(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yC=/^https?/;async function _C(r){if(r.config.emulator)return;const{authorizedDomains:t}=await pC(r);for(const i of t)try{if(vC(i))return}catch{}Ni(r,"unauthorized-domain")}function vC(r){const t=rm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!yC.test(i))return!1;if(gC.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Pl(3e4,6e4);function Zv(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function TC(r){return new Promise((t,i)=>{function a(){Zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Zv(),i(ti(r,"network-request-failed"))},timeout:EC.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const l=DR("iframefcb");return Ri()[l]=()=>{gapi.load?a():i(ti(r,"network-request-failed"))},AR(`${bR()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function SC(r){return Vc=Vc||TC(r),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Pl(5e3,15e3),bC="__/auth/iframe",DC="emulator/auth/iframe",wC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CC(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Ym(t,DC):`https://${r.config.authDomain}/${bC}`,a={apiKey:t.apiKey,appName:r.name,v:Wa},l=RC.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Vl(a).slice(1)}`}async function IC(r){const t=await SC(r),i=Ri().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:CC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wC,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=ti(r,"network-request-failed"),g=Ri().setTimeout(()=>{h(d)},AC.get());function v(){Ri().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OC=500,MC=600,VC="_blank",BC="http://localhost";class Jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UC(r,t,i,a=OC,l=MC){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...NC,width:a.toString(),height:l.toString(),top:h,left:d},_=tn().toLowerCase();i&&(g=eT(_)?VC:i),WE(_)&&(t=t||BC,v.scrollbars="yes");const S=Object.entries(v).reduce((V,[H,X])=>`${V}${H}=${X},`,"");if(pR(_)&&g!=="_self")return xC(t||"",g),new Jv(null);const b=window.open(t||"",g,S);_t(b,r,"popup-blocked");try{b.focus()}catch{}return new Jv(b)}function xC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__/auth/handler",kC="emulator/auth/handler",PC=encodeURIComponent("fac");async function $v(r,t,i,a,l,h){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Wa,eventId:l};if(t instanceof dh){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",mA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof zl){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await r._getAppCheckToken(),_=v?`#${PC}=${encodeURIComponent(v)}`:"";return`${zC(r)}?${Vl(g).slice(1)}${_}`}function zC({config:r}){return r.emulator?Ym(r,kC):`https://${r.authDomain}/${LC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class jC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pT,this._completeRedirectFn=AT,this._overrideRedirectResult=uC}async _openPopup(t,i,a,l){rs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await $v(t,i,a,rm(),l);return UC(t,h,Wm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await $v(t,i,a,rm(),l);return GR(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(rs(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await IC(t),a=new dC(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const h=l?.[0]?.[Bd];h!==void 0&&i(!!h),Ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_C(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return aT()||tT()||Jm()}}const qC=jC;var Wv="@firebase/auth",t0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(r){Ga(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oT(r)},_=new TR(a,l,h,v);return RR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ga(new jr("auth-internal",t=>{const i=ro(t.getProvider("auth").getImmediate());return(a=>new HC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(Wv,t0,GC(r)),Xs(Wv,t0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=300,KC=c0("authIdTokenMaxAge")||QC;let e0=null;const YC=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>KC)return;const l=i?.token;e0!==l&&(e0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function XC(r=g0()){const t=fm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=wR(r,{popupRedirectResolver:qC,persistence:[WR,dT,pT]}),a=c0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=YC(h.toString());LR(i,d,()=>d(i.currentUser)),xR(i,g=>d(g))}}const l=l0("auth");return l&&CR(i,`http://${l}`),i}function ZC(){return document.getElementsByTagName("head")?.[0]??document}SR({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=ti("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",ZC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");const Ur={apiKey:"AIzaSyAzbZJDsLX1wo6nW7t55Pxgu4WL3R9tvhw",authDomain:"lumpo1.firebaseapp.com",projectId:"lumpo1",storageBucket:"lumpo1.appspot.com",messagingSenderId:"964713129480",appId:"1:964713129480:web:2246804b67928a62ac93bd",measurementId:"G-HGYNGJ9V15"},DT={apiKey:Ur.apiKey,authDomain:Ur.authDomain,projectId:Ur.projectId,storageBucket:Ur.storageBucket,messagingSenderId:Ur.messagingSenderId,appId:Ur.appId,measurementId:Ur.measurementId},wT=Object.values(DT).every(r=>typeof r=="string"&&r.length>0);let Ud=null,Bc=null,lm=null,RT=null;wT&&(Ud=p0(DT),Bc=XC(Ud),Bc.languageCode="ru",UR(Bc,dT),lm=new $i,lm.setCustomParameters({prompt:"select_account"}),RT=I2(Ud));const CT={auth:Bc,googleProvider:lm,db:RT,hasValidConfig:wT},xd={uid:"preview-user",displayName:"Demo user",photoURL:null,email:null},JC=()=>typeof window>"u"?!1:window.matchMedia?.("(display-mode: standalone)")?.matches===!0||window.matchMedia?.("(display-mode: fullscreen)")?.matches===!0||navigator.standalone===!0,$C=()=>{if(typeof navigator>"u")return!1;const r=navigator.userAgent.toLowerCase(),t=navigator.userAgentData?.platform??"";return/iphone|ipad|ipod/.test(r)||t.toLowerCase().includes("ios")},WC=()=>{if(typeof window>"u")return!1;const r=window.matchMedia?.("(pointer: coarse)")?.matches===!0;return JC()||$C()||r};function tI(){const{auth:r,googleProvider:t,hasValidConfig:i}=CT,[a,l]=Dt.useState(null),[h,d]=Dt.useState("loading"),[g,v]=Dt.useState(null);Dt.useEffect(()=>{if(!i||!r){l(xd),d("mock");return}const H=kR(r,X=>{l(X?{uid:X.uid,displayName:X.displayName,photoURL:X.photoURL,email:X.email}:null),d("ready"),v(null)},X=>{console.error("[firebase] auth error",X),v(X.message),d("error")});return()=>H()},[r,i]);const _=Dt.useCallback(H=>{const X="Unable to complete Google sign-in.";H instanceof Error?v(H.message||X):v(X),d("error")},[]);Dt.useEffect(()=>{!r||!i||hC(r).then(H=>{const X=H?.user;X&&(l({uid:X.uid,displayName:X.displayName,photoURL:X.photoURL,email:X.email}),d("ready"),v(null))}).catch(H=>{(H?.code??"")!=="auth/no-auth-event"&&_(H)})},[r,_,i]);const S=Dt.useCallback(async()=>{if(!r||!t||!i){d("mock"),l(xd);return}const H=WC();try{H?await Yv(r,t):await sC(r,t),v(null)}catch(X){const W=X?.code??"";if(!H&&(W.startsWith("auth/popup")||W==="auth/network-request-failed"))try{await Yv(r,t),v(null);return}catch(J){_(J);return}_(X)}},[r,t,i,_]),b=Dt.useCallback(async()=>{if(!r||!i){l(xd),d("mock");return}try{await PR(r)}catch(H){_(H)}},[r,_,i]);return Dt.useMemo(()=>({status:h,user:a,error:g,signIn:S,signOut:b,isUsingMock:h==="mock"}),[g,S,b,h,a])}const Ld=[{offsetX:78,offsetY:-96},{offsetX:-84,offsetY:-42},{offsetX:68,offsetY:18},{offsetX:-58,offsetY:42}],eI=Object.assign({"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(1).wav":SS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(10).wav":AS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(11).wav":bS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(12).wav":DS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(13).wav":wS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(14).wav":RS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(15).wav":CS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(16).wav":IS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(17).wav":NS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(18).wav":OS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(19).wav":MS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(2).wav":VS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(20).wav":BS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(3).wav":US,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(4).wav":xS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(5).wav":LS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(6).wav":kS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(7).wav":PS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(8).wav":zS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net)(9).wav":jS,"./assets/sounds1/Бем бем бем мелстрой - мем (online-audio-converter (mp3cut.net).wav":qS}),nI=Object.values(eI),iI=.5,n0=()=>{if(typeof window>"u")return!0;const t=["(display-mode: standalone)","(display-mode: fullscreen)","(display-mode: minimal-ui)","(display-mode: window-controls-overlay)"].some(a=>"matchMedia"in window?window.matchMedia(a).matches:!1),i=window.navigator;return t||i.standalone===!0||!1},i0=()=>{if(typeof navigator>"u")return"other";const r=navigator,t=r.userAgentData?.platform?.toLowerCase()??r.userAgentData?.brands?.map(h=>h.brand.toLowerCase()).join(" ")??"",i=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(i)||t.includes("ios")||r.standalone===!0&&i.includes("macintosh")?"ios":/android/.test(i)||t.includes("android")?"android":"other"};function sI(){const{user:r,status:t,error:i,signIn:a,signOut:l,isUsingMock:h}=tI(),{db:d}=CT,g=Dt.useRef([]),[v,_]=Dt.useState(()=>n0()),[S,b]=Dt.useState(()=>i0()),V=Dt.useMemo(()=>r?.displayName?r.displayName:r?.email?r.email.split("@")[0]:"Игрок",[r]),[H,X]=Dt.useState(0),[W,J]=Dt.useState(V),[ht,ft]=Dt.useState(V),[pt,qt]=Dt.useState(!1),[ie,Ct]=Dt.useState(!1),[C,A]=Dt.useState([]),[w,M]=Dt.useState(!1),[I,U]=Dt.useState(!1),[D,zt]=Dt.useState(null),me=Dt.useRef(0),q=!v,ot=(t==="ready"||t==="error")&&!r,Rt=q||ot||w,Qt=S==="ios"||S==="other",O=S==="android",Q=Dt.useCallback(()=>{typeof navigator<"u"&&"vibrate"in navigator&&navigator.vibrate?.(18)},[]),et=Dt.useCallback(()=>{const lt=me.current%Ld.length,kt=Ld[lt];me.current=(lt+1)%Ld.length;const ae=Date.now()+Math.random();A(Ht=>[...Ht,{id:ae,offsetX:kt.offsetX,offsetY:kt.offsetY}]),window.setTimeout(()=>{A(Ht=>Ht.filter(Mt=>Mt.id!==ae))},520)},[]);Dt.useEffect(()=>(g.current=nI.map(lt=>{const kt=new Audio(lt);return kt.preload="auto",kt.volume=iI,kt.load(),kt}),()=>{g.current.forEach(lt=>{lt.pause(),lt.src=""}),g.current=[]}),[]);const it=Dt.useCallback(()=>{const lt=g.current;if(!lt.length)return;const kt=lt[Math.floor(Math.random()*lt.length)],ae=kt.cloneNode(!0);ae.volume=kt.volume,ae.play().catch(()=>{})},[]);Dt.useEffect(()=>{if(typeof window>"u")return;const lt=()=>{_(n0()),b(i0())};lt();const kt=["(display-mode: standalone)","(display-mode: fullscreen)","(display-mode: minimal-ui)","(display-mode: window-controls-overlay)"],ae=[];typeof window.matchMedia=="function"&&kt.forEach(Mt=>{ae.push(window.matchMedia(Mt))});const Ht=()=>lt();return ae.forEach(Mt=>{"addEventListener"in Mt&&Mt.addEventListener("change",Ht)}),window.addEventListener("appinstalled",lt),window.addEventListener("beforeinstallprompt",lt),document.addEventListener("visibilitychange",lt),()=>{ae.forEach(Mt=>{"removeEventListener"in Mt&&Mt.removeEventListener("change",Ht)}),window.removeEventListener("appinstalled",lt),window.removeEventListener("beforeinstallprompt",lt),document.removeEventListener("visibilitychange",lt)}},[]),Dt.useEffect(()=>{J(V),ft(V),M(!1),zt(null)},[V]),Dt.useEffect(()=>{q&&w&&M(!1)},[w,q]),Dt.useEffect(()=>{if(!r){X(0),qt(!0);return}if(!d){qt(!0);return}let lt=!0;qt(!1);const kt=Od(d,"players",r.uid);return(async()=>{try{const Ht=await H2(kt);if(!lt)return;if(Ht.exists()){const Mt=Ht.data();X(typeof Mt.score=="number"?Mt.score:0),typeof Mt.displayName=="string"&&Mt.displayName.trim().length>0?(J(Mt.displayName.trim()),ft(Mt.displayName.trim())):(J(V),ft(V))}else{if(await Md(kt,{displayName:V,score:0,createdAt:Sc(),updatedAt:Sc()},{merge:!0}),!lt)return;X(0),J(V),ft(V)}}catch(Ht){console.error("[firebase] failed to load score",Ht)}finally{lt&&qt(!0)}})(),()=>{lt=!1}},[d,V,r]);const gt=Dt.useCallback(async lt=>{if(!(!d||!r))try{const kt=Od(d,"players",r.uid),ae=typeof W=="string"&&W.trim().length>0?W.trim():V;await Md(kt,{displayName:ae,score:lt,updatedAt:Sc()},{merge:!0})}catch(kt){console.error("[firebase] failed to update score",kt)}},[d,V,W,r]),vt=Dt.useCallback((lt=!1)=>{Rt||r&&!pt||(Ct(!0),X(kt=>{const ae=kt+1;return gt(ae),ae}),et(),it(),Q(),lt&&window.setTimeout(()=>Ct(!1),140))},[pt,gt,Rt,et,Q,it,r]),Ot=Dt.useCallback(lt=>{lt.preventDefault();try{lt.currentTarget.setPointerCapture(lt.pointerId)}catch{}vt(!1)},[vt]),ye=Dt.useCallback(lt=>{lt.preventDefault();try{lt.currentTarget.releasePointerCapture(lt.pointerId)}catch{}Ct(!1)},[]),se=Dt.useCallback(()=>{Ct(!1)},[]),Oi=Dt.useCallback(lt=>{(lt.code==="Space"||lt.code==="Enter")&&(lt.preventDefault(),vt(!0))},[vt]),os=Dt.useCallback(()=>{!r||ot||q||(ft(W),zt(null),M(!0))},[W,ot,q,r]),Mi=Dt.useCallback(()=>{M(!1),ft(W),zt(null)},[W]),ls=Dt.useCallback(lt=>{ft(lt.target.value)},[]),An=Dt.useCallback(async lt=>{lt.preventDefault();const kt=ht.trim();if(!kt){zt("Введите ник");return}if(kt.length>24){zt("Максимум 24 символа");return}if(!r){zt("Авторизуйся, чтобы изменить ник");return}if(!d){J(kt),ft(kt),M(!1),zt(null);return}try{U(!0);const ae=Od(d,"players",r.uid);await Md(ae,{displayName:kt,updatedAt:Sc()},{merge:!0}),J(kt),ft(kt),M(!1),zt(null)}catch(ae){console.error("[firebase] failed to update displayName",ae),zt("Не удалось изменить ник. Попробуй ещё раз.")}finally{U(!1)}},[d,ht,r]),rr=Rt?"app__content app__content--blurred":"app__content";return $.jsxs("div",{className:"app",children:[$.jsxs("div",{className:rr,"aria-hidden":Rt?"true":void 0,children:[$.jsxs("header",{className:"scoreboard",children:[$.jsxs("div",{className:"scoreboard__actions",children:[r?$.jsx("button",{type:"button",className:"auth-button",onClick:l,children:"Выйти"}):!ot&&!q?$.jsx("button",{type:"button",className:"auth-button",onClick:a,children:"Войти через Google"}):null,h?$.jsx("span",{className:"preview-badge",title:"Работаем в демо-режиме без Firebase",children:"DEMO"}):null]}),$.jsxs("div",{className:"scoreboard__name-row",children:[$.jsx("div",{className:"scoreboard__name",children:W}),r&&!q?$.jsx("button",{type:"button",className:"scoreboard__edit",onClick:os,title:"Изменить ник","aria-label":"Изменить ник",children:$.jsxs("svg",{className:"scoreboard__edit-icon",width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:[$.jsx("path",{d:"M11.9 2.1a1.5 1.5 0 0 1 2.12 0l.88.88a1.5 1.5 0 0 1 0 2.12l-7.1 7.1a1 1 0 0 1-.47.26l-3.16.63a.5.5 0 0 1-.58-.58l.63-3.16a1 1 0 0 1 .26-.47zM11.2 3.5 4.96 9.73a.5.5 0 0 0-.13.23l-.38 1.88 1.88-.38a.5.5 0 0 0 .23-.13L12.8 5.5z",fill:"currentColor"}),$.jsx("path",{d:"M2 14h12v1H2z",opacity:"0.3",fill:"currentColor"})]})}):null]}),$.jsx("div",{className:"scoreboard__score",children:H}),i&&!Rt?$.jsx("p",{className:"scoreboard__error",children:i}):null]}),$.jsxs("div",{className:"stage",children:[$.jsx("div",{className:"particles",children:C.map(lt=>$.jsx("span",{style:{"--offset-x":`${lt.offsetX}px`,"--offset-y":`${lt.offsetY}px`},children:"+1"},lt.id))}),$.jsx(Y2,{pressed:ie,onPointerDown:Ot,onPointerUp:ye,onPointerLeave:se,onPointerCancel:se,onKeyDown:Oi,"aria-label":"Платформа, нажми чтобы заработать очки"})]})]}),q?$.jsx("div",{className:"install-modal",role:"dialog","aria-modal":"true","aria-labelledby":"install-modal-title","aria-describedby":"install-modal-description",children:$.jsxs("div",{className:"install-modal__dialog",children:[$.jsx("h2",{className:"install-modal__title",id:"install-modal-title",children:"Добавь Melplay на главный экран"}),$.jsx("p",{className:"install-modal__subtitle",id:"install-modal-description",children:"Приложение работает только как установленный ярлык. Добавь Melplay на рабочий стол, чтобы продолжить."}),$.jsxs("div",{className:"install-modal__platforms",children:[Qt?$.jsxs("section",{className:"install-modal__section install-modal__section--ios","aria-label":"Инструкция для iPhone",children:[$.jsx("h3",{className:"install-modal__section-title",children:"Для iPhone"}),$.jsxs("ol",{className:"install-modal__steps",children:[$.jsxs("li",{className:"install-modal__step",children:[$.jsx("span",{className:"install-modal__icon","aria-hidden":"true",children:$.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",focusable:"false",children:[$.jsx("path",{d:"M12 3l3.8 3.8a.8.8 0 01-.57 1.37H13v6h-2V8.17H8.77a.8.8 0 01-.57-1.37L12 3z",fill:"currentColor"}),$.jsx("rect",{x:"6",y:"10",width:"12",height:"10",rx:"2",fill:"none",stroke:"currentColor",strokeWidth:"1.4"})]})}),$.jsxs("span",{className:"install-modal__step-text",children:["Нажми ",$.jsx("strong",{children:"«Поделиться»"})]})]}),$.jsxs("li",{className:"install-modal__step",children:[$.jsx("span",{className:"install-modal__icon","aria-hidden":"true",children:$.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",focusable:"false",children:[$.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"4",fill:"none",stroke:"currentColor",strokeWidth:"1.4"}),$.jsx("path",{d:"M12 8v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),$.jsx("path",{d:"M8 12h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}),$.jsxs("span",{className:"install-modal__step-text",children:["Пролистай вниз и выбери ",$.jsx("strong",{children:"«Добавить на рабочий экран»"})]})]})]})]}):null,O?$.jsxs("section",{className:"install-modal__section install-modal__section--android","aria-label":"Инструкция для Android",children:[$.jsx("h3",{className:"install-modal__section-title",children:"Для Android"}),$.jsxs("ol",{className:"install-modal__steps",children:[$.jsxs("li",{className:"install-modal__step",children:[$.jsx("span",{className:"install-modal__icon","aria-hidden":"true",children:$.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",focusable:"false",children:[$.jsx("circle",{cx:"12",cy:"4",r:"1.6",fill:"currentColor"}),$.jsx("circle",{cx:"12",cy:"12",r:"1.6",fill:"currentColor"}),$.jsx("circle",{cx:"12",cy:"20",r:"1.6",fill:"currentColor"})]})}),$.jsxs("span",{className:"install-modal__step-text",children:["Нажми на ",$.jsx("strong",{children:"три точки"})," меню"]})]}),$.jsxs("li",{className:"install-modal__step",children:[$.jsx("span",{className:"install-modal__icon","aria-hidden":"true",children:$.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",focusable:"false",children:[$.jsx("rect",{x:"4",y:"5",width:"16",height:"12",rx:"2",fill:"none",stroke:"currentColor",strokeWidth:"1.4"}),$.jsx("path",{d:"M12 9v6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),$.jsx("path",{d:"M9 12h6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),$.jsx("path",{d:"M7 19h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}),$.jsxs("span",{className:"install-modal__step-text",children:["Выбери ",$.jsx("strong",{children:"«Добавить на главный экран»"})]})]})]})]}):null]}),$.jsx("p",{className:"install-modal__footnote",children:"После установки запускай Melplay из ярлыка. Страница автоматически обновится, когда откроешь приложение из установленного ярлыка."})]})}):null,!q&&ot?$.jsx("div",{className:"auth-modal",role:"dialog","aria-modal":"true","aria-labelledby":"auth-modal-title","aria-describedby":"auth-modal-description",children:$.jsxs("div",{className:"auth-modal__dialog auth-modal__dialog--login",children:[$.jsx("h2",{className:"auth-modal__title",id:"auth-modal-title",children:"Вход в аккаунт"}),$.jsx("p",{className:"auth-modal__subtitle",id:"auth-modal-description",children:"Войди в аккаунт, чтобы сохранять очки и продолжать фармить их на любом устройстве."}),$.jsx("button",{type:"button",className:"auth-modal__button",onClick:a,children:"Продолжить с Google"}),i?$.jsx("p",{className:"auth-modal__error",children:i}):null,$.jsx("p",{className:"auth-modal__footnote",children:"Связь @djestick"})]})}):null,!q&&w?$.jsx("div",{className:"auth-modal",role:"dialog","aria-modal":"true","aria-labelledby":"name-modal-title","aria-describedby":"name-modal-description",onClick:Mi,children:$.jsxs("div",{className:"auth-modal__dialog auth-modal__dialog--profile",onClick:lt=>lt.stopPropagation(),children:[$.jsx("h2",{className:"auth-modal__title",id:"name-modal-title",children:"Измени ник"}),$.jsx("p",{className:"auth-modal__subtitle",id:"name-modal-description",children:"Придумай короткое имя, чтобы тебя было легко узнать в таблице лидеров."}),$.jsxs("form",{className:"name-form",onSubmit:An,noValidate:!0,children:[$.jsx("input",{type:"text",className:"name-form__input",value:ht,onChange:ls,maxLength:24,placeholder:"Новый ник",autoFocus:!0}),$.jsx("button",{type:"submit",className:"name-form__submit",disabled:I,children:I?"Сохраняем…":"Изменить"})]}),D?$.jsx("p",{className:"auth-modal__error",children:D}):null,$.jsx("button",{type:"button",className:"auth-modal__secondary",onClick:Mi,children:"Отмена"})]})}):null]})}if("serviceWorker"in navigator){const r=()=>{navigator.serviceWorker.register("/melplay/sw.js",{scope:"/melplay/"}).catch(t=>{console.error("[sw] registration failed",t)})};document.readyState==="complete"?r():window.addEventListener("load",r,{once:!0})}const IT=document.getElementById("app");if(!IT)throw new Error("Root element #app not found");TS.createRoot(IT).render($.jsx(dS.StrictMode,{children:$.jsx(sI,{})}));
